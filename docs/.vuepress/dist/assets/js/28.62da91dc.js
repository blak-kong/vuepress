(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{206:function(_,v,t){"use strict";t.r(v);var e=t(6),r=Object(e.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[_._v("#")]),_._v(" å‰è¨€")]),_._v(" "),t("p",[_._v("æˆ‘ä»¬å·²ç»äº†è§£å˜é‡çš„èµ‹å€¼ï¼Œä»¥åŠå¼•ç”¨ç±»å‹å’Œå †å†…å­˜ä¹‹é—´çš„å…³ç³»ã€‚")]),_._v(" "),t("p",[_._v("å‰é¢çš„ç« èŠ‚ä¹Ÿå¤šæ¬¡æåˆ°åƒåœ¾å›æ”¶ï¼Œè¿™é‡Œç»ˆäºå¯ä»¥å±•å¼€æ¥è®²ã€‚")]),_._v(" "),t("h2",{attrs:{id:"å†…å­˜å›æ”¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜å›æ”¶"}},[_._v("#")]),_._v(" å†…å­˜å›æ”¶")]),_._v(" "),t("p",[t("code",[_._v("JS")]),_._v("ä¸­æœ‰ä¸€ä¸ªè‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶çš„, åƒåœ¾æ”¶é›†å™¨ä¼šæ¯éš”ä¸€æ®µæ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡é‡Šæ”¾æ“ä½œ, å»æ¸…ç†æ‰é‚£äº›ä¸å†ä½¿ç”¨çš„å€¼, æ¥é‡Šæ”¾å®ƒä»¬å ç”¨çš„å†…å­˜.")]),_._v(" "),t("h2",{attrs:{id:"é”€æ¯å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é”€æ¯å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡"}},[_._v("#")]),_._v(" é”€æ¯å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡")]),_._v(" "),t("p",[t("strong",[_._v("1. å±€éƒ¨å˜é‡çš„é”€æ¯")])]),_._v(" "),t("p",[_._v("å¯¹äºä¸€èˆ¬çš„å±€éƒ¨å˜é‡, å³ä¾¿å®ƒä»¬æ˜¯å­˜åœ¨äºå‡½æ•°ä¸­, å½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œäº†ä¹‹å, å®ƒé‡Œé¢çš„å˜é‡è¿˜æ˜¯ä¼šè¢«"),t("code",[_._v("GC")]),_._v("ã€‚")]),_._v(" "),t("p",[_._v("å”¯ä¸€çš„ç‰¹ä¾‹æ˜¯é—­åŒ…ã€‚")]),_._v(" "),t("p",[_._v("é—­åŒ…ä¸­çš„å˜é‡å¹¶ä¸ä¼šéšç€å‡½æ•°çš„æ‰§è¡Œå®Œæ¯•è€Œè¢«æ¸…é™¤æ‰ï¼Œåè€Œä¼šä¸€ç›´ä¿ç•™ç€ï¼Œé™¤éè¿™ä¸ªé—­åŒ…è¢«æ¸…é™¤ï¼ˆç¡®ä¿é—­åŒ…ä¸­æ¶‰åŠçš„å˜é‡å†ä¹Ÿæ²¡æœ‰è¢«åˆ«çš„å‡½æ•°å¼•ç”¨åˆ°ï¼‰.")]),_._v(" "),t("p",[_._v("è¿™ä¹Ÿæ˜¯å¯¹äºä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œåœ¨è½¯ä»¶çš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®nullé”€æ¯çš„åŸå› ã€‚")]),_._v(" "),t("p",[_._v("æ’ä»¶çš„ç¼–å†™ç”±äºå¼€æ”¾å°é—­åŸåˆ™ï¼Œä¼šå¤§é‡ä½¿ç”¨é—­åŒ…ã€‚")]),_._v(" "),t("p",[t("strong",[_._v("2. å…¨å±€å˜é‡çš„é”€æ¯")])]),_._v(" "),t("p",[_._v("ä¸€èˆ¬ä¸ç”¨è‡ªå·±é”€æ¯ï¼Œåƒåœ¾å›æ”¶ä¼šè‡ªåŠ¨å¤„ç†ã€‚")]),_._v(" "),t("p",[_._v("é™¤éå¼•ç”¨äº†é—­åŒ…ã€‚")]),_._v(" "),t("hr"),_._v(" "),t("h2",{attrs:{id:"v8å¼•æ“çš„å†…å­˜é™åˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v8å¼•æ“çš„å†…å­˜é™åˆ¶"}},[_._v("#")]),_._v(" V8å¼•æ“çš„å†…å­˜é™åˆ¶")]),_._v(" "),t("p",[_._v("JavaScript å¼•æ“, åœ¨ä½¿ç”¨çš„æ—¶å€™å¯¹ç³»ç»Ÿå†…å­˜çš„å ç”¨æœ‰å¤§å°é™åˆ¶.")]),_._v(" "),t("p",[_._v("å¯¹äºæˆ‘ä»¬ç†Ÿæ‚‰çš„"),t("code",[_._v("V8")]),_._v("å¼•æ“æ¥è¯´(è°·æ­Œæµè§ˆå™¨å†…æ ¸), å®ƒåªèƒ½ä½¿ç”¨ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†å†…å­˜.")]),_._v(" "),t("ul",[t("li",[_._v("64ä½ç³»ç»Ÿä¸‹èƒ½ä½¿ç”¨çº¦"),t("code",[_._v("1.4GB")]),_._v(";")]),_._v(" "),t("li",[_._v("32ä½ç³»ç»Ÿä¸‹èƒ½ä½¿ç”¨çº¦"),t("code",[_._v("0.7GB")]),_._v(".")])]),_._v(" "),t("p",[_._v("è¿™åœ¨æµè§ˆå™¨ç«¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½å¤Ÿç”¨, ä½†åœ¨ç‰¹å®šåœºæ™¯ï¼Œä»¥åŠåˆ°äº† node å°±æˆäº†æ€§èƒ½ç“¶é¢ˆã€‚")]),_._v(" "),t("p",[_._v("ä¾‹å¦‚æƒ³è¦ä¸€ä¸ª "),t("code",[_._v("2G")]),_._v(" çš„æ–‡ä»¶, é‚£ä¹ˆå®ƒå°±æ— æ³•å°†å…¶å…¨éƒ¨è¯»å…¥å†…å­˜ä¸”è¿›è¡Œå…¶ä»–çš„æ“ä½œ.")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/24/16f37e93633e757d?w=440&h=329&f=png&s=54586",alt:""}})]),_._v(" "),t("p",[t("code",[_._v("JS")]),_._v("ä¸­çš„å­˜å‚¨, åˆ†ä¸ºæ ˆå­˜å‚¨å’Œå †å­˜å‚¨.")]),_._v(" "),t("ol",[t("li",[_._v("å¯¹äºæ ˆå†…å­˜, å½“"),t("code",[_._v("ESP")]),_._v("æŒ‡é’ˆ(æ ˆæŒ‡é’ˆ)ä¸‹ç§»ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹‹åï¼Œæ ˆé¡¶çš„ç©ºé—´ä¼šè‡ªåŠ¨è¢«å›æ”¶.")]),_._v(" "),t("li",[_._v("è€Œå¯¹è±¡çš„å­˜å‚¨æ˜¯é€šè¿‡å †æ¥è¿›è¡Œåˆ†é…çš„, å½“åœ¨æ„å»ºä¸€ä¸ªå¯¹è±¡ä¸”è¿›è¡Œèµ‹å€¼æ“ä½œçš„æ—¶å€™, "),t("code",[_._v("JS")]),_._v("ä¼šå°†ç›¸åº”çš„å†…å­˜åˆ†é…åˆ°å †ä¸Š. æ‰€ä»¥æ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡ä¹‹å, å †å°±ä¼šå¤§ä¸€ç‚¹.")])]),_._v(" "),t("p",[_._v("å‰é¢è¯´äº†, "),t("code",[_._v("V8")]),_._v("å¼•æ“åªèƒ½ä½¿ç”¨ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†å†…å­˜, ä½ çš„å †å´å¯èƒ½ä¼šä¸åœçš„å¢å¤§, ç›´åˆ°å¤§å°è¾¾åˆ°äº†"),t("code",[_._v("V8")]),_._v("å¼•æ“çš„å†…å­˜ä¸Šé™ä¸ºæ­¢.")]),_._v(" "),t("p",[_._v("è¿™å°±å¯¼è‡´æˆ‘ä»¬å¯¹äº "),t("code",[_._v("V8å¼•æ“")]),_._v(" çš„ä½¿ç”¨ï¼Œå­˜åœ¨å†…å­˜é™åˆ¶ã€‚")]),_._v(" "),t("p",[t("strong",[t("code",[_._v("V8")]),_._v(" å¼•æ“ä¸ºä»€ä¹ˆä¼šè®¾ç½®ä¸€ä¸ªå†…å­˜çš„ä¸Šé™?")])]),_._v(" "),t("ul",[t("li",[t("code",[_._v("JS")]),_._v("çš„å•çº¿ç¨‹æ‰§è¡Œæœºåˆ¶")]),_._v(" "),t("li",[t("code",[_._v("JS")]),_._v("åƒåœ¾å›æ”¶æœºåˆ¶çš„é™åˆ¶")])]),_._v(" "),t("p",[_._v("åœ¨"),t("code",[_._v("JS")]),_._v("ä¸­, ç”±äºå®ƒæ˜¯å•çº¿ç¨‹è¿è¡Œçš„, ä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹,ã€‚é‚£å°±æ„å‘³ç€ä¸€æ—¦è¿›å…¥äº†åƒåœ¾å›æ”¶é˜¶æ®µ, å…¶å®ƒçš„è¿è¡Œé€»è¾‘éƒ½å¾—æš‚åœäº†, å¾—ç­‰å®ƒè¿‡äº†è¿™ä¸ªé˜¶æ®µæ‰ç»§ç»­æ‰§è¡Œ.")]),_._v(" "),t("p",[_._v("ä½†åƒåœ¾å›æ”¶æ˜¯ä¸€ä»¶éå¸¸è€—æ—¶çš„äº‹æƒ…, ä»¥ "),t("code",[_._v("1.5GB")]),_._v(" çš„åƒåœ¾å›æ”¶å †å†…å­˜ä¸ºä¾‹ï¼Œ"),t("code",[_._v("V8")]),_._v(" åšä¸€æ¬¡å°çš„åƒåœ¾å›æ”¶éœ€è¦50ms ä»¥ä¸Šï¼Œåšä¸€æ¬¡éå¢é‡å¼çš„åƒåœ¾å›æ”¶ç”šè‡³è¦ 1s ä»¥ä¸Š.")]),_._v(" "),t("p",[_._v("æ‰€ä»¥è‹¥æ˜¯åƒåœ¾å›æ”¶æ—¶å¸¸è¿‡ä¹…çš„è¯, "),t("code",[_._v("JS")]),_._v("ä»£ç ä¼šä¸€ç›´æ²¡æœ‰å“åº”, é€ æˆåº”ç”¨å¡é¡¿.")]),_._v(" "),t("p",[_._v("äºæ˜¯"),t("code",[_._v("V8")]),_._v("å¹²è„†ç»™å®ƒé™åˆ¶äº†å †å†…å­˜å¤§å°, è¿™æ ·å°±ç®—ä½ åˆ°é¡¶äº†ä¹Ÿä¸ä¼šè¯´å¤ªå¡, è€Œä¸”å…¶å®å¤§éƒ¨åˆ†æƒ…å†µä¹Ÿä¸ä¼šè¯´æœ‰æ“ä½œå‡ ä¸ª"),t("code",[_._v("G")]),_._v("çš„æƒ…å†µ, å› æ­¤è¿™ä¹Ÿæ˜¯"),t("code",[_._v("V8")]),_._v("çš„ä¸€ç§æƒè¡¡.")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/24/16f385a685e1c072?w=300&h=300&f=png&s=271546",alt:""}})]),_._v(" "),t("p",[t("strong",[_._v("V8çš„å†…å­˜é™åˆ¶æ˜¯ä¸å¯ä¿®æ”¹çš„å—ğŸ¤”ï¸?")])]),_._v(" "),t("p",[_._v("å¹¶ä¸æ˜¯çš„, ä½ å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥ä¿®æ”¹å®ƒ:")]),_._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[_._v("// è¿™æ˜¯è°ƒæ•´è€ç”Ÿä»£è¿™éƒ¨åˆ†çš„å†…å­˜ï¼Œå•ä½æ˜¯MBã€‚åé¢ä¼šè¯¦ç»†ä»‹ç»æ–°ç”Ÿä»£å’Œè€ç”Ÿä»£å†…å­˜\nnode --max-old-space-size=2048 xxx.js \n\n// è¿™æ˜¯è°ƒæ•´æ–°ç”Ÿä»£è¿™éƒ¨åˆ†çš„å†…å­˜ï¼Œå•ä½æ˜¯ KBã€‚\nnode --max-new-space-size=2048 xxx.js\n")])])]),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/qq_35624642/article/details/81084331",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šnodejs å‰ç«¯é¡¹ç›®ç¼–è¯‘æ—¶å†…å­˜æº¢å‡ºé—®é¢˜çš„åŸå› åŠè§£å†³æ–¹æ¡ˆã€‹"),t("OutboundLink")],1)]),_._v(" "),t("hr"),_._v(" "),t("h2",{attrs:{id:"å †å†…å­˜çš„åˆ†ä»£ç®¡ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å †å†…å­˜çš„åˆ†ä»£ç®¡ç†"}},[_._v("#")]),_._v(" å †å†…å­˜çš„åˆ†ä»£ç®¡ç†")]),_._v(" "),t("p",[t("code",[_._v("V8")]),_._v("å¼•æ“å¯¹å †å†…å­˜ä¸­çš„"),t("code",[_._v("JS")]),_._v("å¯¹è±¡è¿›è¡Œäº†åˆ†ä»£ç®¡ç†, ä¹Ÿå°±æ˜¯åˆ†ä¸º "),t("strong",[_._v("æ–°ç”Ÿä»£")]),_._v(" å’Œ "),t("strong",[_._v("è€ç”Ÿä»£")]),_._v(".")]),_._v(" "),t("p",[_._v("é¦–å…ˆè®©æˆ‘ä»¬æ¥äº†è§£ä»¥ä¸‹å‡ ä¸ªçŸ¥è¯†ç‚¹:")]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("æ–°ç”Ÿä»£")]),_._v(" å°±æ˜¯ä¸´æ—¶åˆ†é…çš„å†…å­˜ï¼Œå­˜æ´»æ—¶é—´çŸ­, å¦‚ä¸´æ—¶å˜é‡ã€å­—ç¬¦ä¸²ç­‰;")]),_._v(" "),t("li",[t("strong",[_._v("è€ç”Ÿä»£")]),_._v(" æ˜¯å¸¸é©»å†…å­˜ï¼Œå­˜æ´»çš„æ—¶é—´é•¿, å¦‚ä¸»æ§åˆ¶å™¨ã€æœåŠ¡å™¨å¯¹è±¡ç­‰;")]),_._v(" "),t("li",[t("code",[_._v("V8")]),_._v("çš„å †å†…å­˜, å°±æ˜¯ä¸¤ä¸ªå†…å­˜ä¹‹å’Œ.")])]),_._v(" "),t("p",[_._v("å°±åƒä¸‹é¢çš„è¿™å¼ å›¾ä¸€æ ·:")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/24/16f389be88d7e8ea?w=922&h=304&f=png&s=20252",alt:""}})]),_._v(" "),t("h3",{attrs:{id:"æ–°ç”Ÿä»£å†…å­˜çš„å›æ”¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ–°ç”Ÿä»£å†…å­˜çš„å›æ”¶"}},[_._v("#")]),_._v(" æ–°ç”Ÿä»£å†…å­˜çš„å›æ”¶")]),_._v(" "),t("p",[_._v("å…¶å®ä¹Ÿåƒå›¾é‡Œç”»çš„ä¸€æ ·, æ–°ç”Ÿä»£çš„é»˜è®¤å†…å­˜é™åˆ¶å¾ˆå°:")]),_._v(" "),t("ul",[t("li",[_._v("64ä½ç³»ç»Ÿä¸‹ä¸º"),t("code",[_._v("32MB")]),_._v(";")]),_._v(" "),t("li",[_._v("32ä½ç³»ç»Ÿä¸‹ä¸º"),t("code",[_._v("16MB")]),_._v(".")])]),_._v(" "),t("p",[_._v("ç¡®å®æ˜¯å¤Ÿå°çš„å•¦, ä¸»è¦åŸå› æ˜¯æ–°ç”Ÿä»£ä¸­çš„å˜é‡å­˜æ´»æ—¶é—´çŸ­ï¼Œæ¥äº†é©¬ä¸Šå°±èµ°ï¼Œä¸å®¹æ˜“äº§ç”Ÿå¤ªå¤§çš„å†…å­˜è´Ÿæ‹…ï¼Œå› æ­¤å¯ä»¥å°†å®ƒè®¾çš„è¶³å¤Ÿå°.")]),_._v(" "),t("h4",{attrs:{id:"æ–°ç”Ÿä»£å†…å­˜ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ–°ç”Ÿä»£å†…å­˜ç»“æ„"}},[_._v("#")]),_._v(" æ–°ç”Ÿä»£å†…å­˜ç»“æ„")]),_._v(" "),t("p",[_._v("æ–°ç”Ÿä»£å†…å­˜ä¼šè¢«åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†:")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/25/16f3af34d38c1826?w=412&h=304&f=png&s=54905",alt:"memory2.png"}})]),_._v(" "),t("p",[_._v("ä¸€å—å«åš"),t("code",[_._v("From")]),_._v(", å¦ä¸€å—å«åš"),t("code",[_._v("To")]),_._v(". (åˆ«çš„æ•™æä¸­æ˜¯è¿™ä¹ˆå‘½åçš„, åæ¥æˆ‘å»æ‰¾å¯»åŸå› , å‘ç°å¤§æ¦‚æ˜¯å› ä¸ºåœ¨"),t("a",{attrs:{href:"https://github.com/tsy77/blog/issues/13",target:"_blank",rel:"noopener noreferrer"}},[_._v("V8çš„æºç -å†…å­˜ç®¡ç†"),t("OutboundLink")],1),_._v("ä¸­æœ‰"),t("code",[_._v("from_space_")]),_._v("å’Œ"),t("code",[_._v("to_space_")]),_._v("è¿™ä¸¤ä¸ªä¸œè¥¿å§)")]),_._v(" "),t("ul",[t("li",[t("code",[_._v("From")]),_._v("è¡¨ç¤ºæ­£åœ¨ä½¿ç”¨çš„å†…å­˜;")]),_._v(" "),t("li",[t("code",[_._v("To")]),_._v("è¡¨ç¤ºç›®å‰é—²ç½®çš„å†…å­˜.")])]),_._v(" "),t("h4",{attrs:{id:"scavengeç®—æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scavengeç®—æ³•"}},[_._v("#")]),_._v(" Scavengeç®—æ³•")]),_._v(" "),t("p",[_._v("ä¸Šé¢å·²ç»ä»‹ç»äº†"),t("strong",[_._v("æ–°ç”Ÿä»£å†…å­˜çš„ç»“æ„")]),_._v(", ä¸‹é¢æ¥è¯´è¯´å®ƒå…·ä½“æ˜¯å¦‚ä½•è¿›è¡Œåƒåœ¾å›æ”¶çš„.")]),_._v(" "),t("p",[_._v("å½“è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™, ä¼šç»è¿‡ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:")]),_._v(" "),t("ol",[t("li",[t("code",[_._v("V8")]),_._v("å°†"),t("code",[_._v("From")]),_._v("éƒ¨åˆ†çš„å¯¹è±¡å…¨éƒ¨æ£€æŸ¥ä¸€é;")]),_._v(" "),t("li",[_._v("æ£€æŸ¥å‡ºè‹¥æ˜¯ "),t("strong",[_._v("å­˜æ´»å¯¹è±¡")]),_._v(" åˆ™å¤åˆ¶åˆ°"),t("code",[_._v("To")]),_._v("å†…å­˜ä¸­, è‹¥ä¸æ˜¯åˆ™ç›´æ¥å›æ”¶;")]),_._v(" "),t("li",[_._v("å¤åˆ¶åˆ°"),t("code",[_._v("To")]),_._v("å†…å­˜ä¸­æ˜¯æŒ‰ç…§é¡ºåºä»å¤´æ”¾ç½®çš„;")]),_._v(" "),t("li",[_._v("å½“"),t("code",[_._v("From")]),_._v("ä¸­æ‰€æœ‰çš„å­˜æ´»å¯¹è±¡å…¨éƒ¨å¤åˆ¶å®Œæ¯•ä¹‹å, "),t("code",[_._v("From")]),_._v("å’Œ"),t("code",[_._v("To")]),_._v("å°±ä¼š "),t("strong",[_._v("å¯¹è°ƒ")]),_._v(" , ä¹Ÿå°±æ˜¯"),t("code",[_._v("From")]),_._v("è¢«é—²ç½®, "),t("code",[_._v("To")]),_._v("åœ¨ä½¿ç”¨;")]),_._v(" "),t("li",[_._v("å¦‚æ­¤å¾ªç¯.")])]),_._v(" "),t("p",[t("em",[_._v("ä¸€å¼ å›¾æ–¹ä¾¿ä½ ç†è§£ğŸ¤”:")])]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/25/16f3b13bb13bfee7?w=1130&h=770&f=png&s=206014",alt:"memory3.png"}})]),_._v(" "),t("p",[_._v("ä¸å°±æ˜¯ä¸ªæ¸…ç†åƒåœ¾çš„åŠ¨ä½œå—? ä¸ºä»€ä¹ˆ"),t("code",[_._v("V8")]),_._v("è¦æ•´çš„è¿™ä¹ˆå¤æ‚å•Š, åˆæ˜¯éå†åˆæ˜¯å¤åˆ¶çš„.")]),_._v(" "),t("p",[_._v("è€Œä¸”ä¸ºä»€ä¹ˆè¿˜è¦åœ¨"),t("code",[_._v("To")]),_._v("å†…å­˜ä¸­æŒ‰ç…§é¡ºåºä»å¤´æ”¾ç½®å‘¢ğŸ¤”ï¸?")]),_._v(" "),t("p",[_._v("å…¶å®, å®ƒè¿™æ ·åšæ˜¯æœ‰ä¸€å®šå¥½å¤„çš„, é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾:")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/25/16f3b233d4984b26?w=650&h=788&f=png&s=148434",alt:"memory4.png"}})]),_._v(" "),t("p",[_._v("åœ¨ä¸Šå›¾ä¸­, é»„è‰²çš„éƒ¨åˆ†æ˜¯"),t("strong",[_._v("å¾…åˆ†é…çš„å†…å­˜")]),_._v(", è€Œè“è‰²çš„å°æ–¹å—å°±æ˜¯"),t("strong",[_._v("å­˜æ´»å¯¹è±¡")]),_._v(".")]),_._v(" "),t("p",[_._v("çœ‹èµ·æ¥å­˜æ´»å¯¹è±¡éå¸¸çš„æ•£ä¹±, ä½¿å¾—ç©ºé—´å˜å¾—é›¶é›¶æ•£æ•£, å¹¶ä¸”å †å†…å­˜åˆæ˜¯è¿ç»­åˆ†é…çš„, è‹¥æ˜¯ç¢°åˆ°ç¨å¾®å¤§ç‚¹çš„å¯¹è±¡çš„è¯éƒ½æ²¡æœ‰åŠæ³•è¿›è¡Œç©ºé—´åˆ†é…äº†.")]),_._v(" "),t("blockquote",[t("p",[_._v("å †åŒ…å«ä¸€ä¸ªé“¾è¡¨æ¥ç»´æŠ¤å·²ç”¨å’Œç©ºé—²çš„å†…å­˜å—ã€‚åœ¨å †ä¸Šæ–°åˆ†é…ï¼ˆç”¨ new æˆ–è€… mallocï¼‰å†…å­˜æ˜¯ä»ç©ºé—²çš„å†…å­˜å—ä¸­æ‰¾åˆ°ä¸€äº›æ»¡è¶³è¦æ±‚çš„åˆé€‚å—ã€‚æ‰€ä»¥å¯èƒ½è®©äººè§‰å¾—åªè¦æœ‰å¾ˆå¤šä¸è¿ç»­çš„é›¶æ•£çš„å°åŒºåŸŸï¼Œåªè¦æ€»æ•°è¾¾åˆ°ç”³è¯·çš„å†…å­˜å—ï¼Œå°±å¯ä»¥åˆ†é…ã€‚")])]),_._v(" "),t("blockquote",[t("p",[_._v("ä½†äº‹å®ä¸Šæ˜¯ä¸è¡Œçš„ï¼Œè¿™åˆè®©äººè§‰å¾—æ˜¯ä¸æ˜¯é›¶æ•£çš„å†…å­˜å—ä¸èƒ½è¿æ¥æˆä¸€ä¸ªå¤§çš„ç©ºé—´ï¼Œè€Œå¿…é¡»è¦ä¸€æ•´å—è¿ç»­çš„å†…å­˜ç©ºé—´æ‰èƒ½ç”³è¯·æˆåŠŸ.")])]),_._v(" "),t("p",[_._v("(åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/jin13277480598/article/details/54409543)")]),_._v(" "),t("p",[_._v("è€Œè¿™ç§é›¶æ•£çš„ç©ºé—´ä¹Ÿæœ‰ä¸€ä¸ªåå­—, å«åš "),t("strong",[_._v("å†…å­˜ç¢ç‰‡")]),_._v(".")]),_._v(" "),t("p",[_._v("å› æ­¤å°†å…¶æŒ‰ç…§é¡ºåºä»å¤´æ”¾ç½®ä¹Ÿæ˜¯ä¸ºäº†è§£å†³ "),t("strong",[_._v("å†…å­˜ç¢ç‰‡")]),_._v(" çš„é—®é¢˜, åœ¨ä¸€é¡¿å¤åˆ¶ä¹‹å, "),t("code",[_._v("To")]),_._v("å†…å­˜ä¼šè¢«æ’åˆ—çš„æ•´æ•´é½é½çš„:")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/25/16f3b2bb51624bd0?w=660&h=796&f=png&s=124542",alt:"memory5.png"}})]),_._v(" "),t("p",[_._v("æ•´é¡¿ä¹‹åå°±å¤§å¤§æ–¹ä¾¿äº†åç»­è¿ç»­ç©ºé—´çš„åˆ†é….")]),_._v(" "),t("p",[_._v("ä¸Šé¢ğŸ‘†è¯´çš„è¿™ç§æ–°ç”Ÿä»£åƒåœ¾å›æ”¶ç®—æ³•ä¹Ÿè¢«å«åš "),t("strong",[t("code",[_._v("Scavenge")]),_._v("ç®—æ³•")]),_._v(" ("),t("code",[_._v("scavenge")]),_._v("çš„æœ¬æ„å°±æ˜¯å›æ”¶).")]),_._v(" "),t("p",[_._v("æ‰€ä»¥è¿™ä¸ª"),t("code",[_._v("Scavenge")]),_._v("ç®—æ³•ä¸ä»…ä»…æ˜¯å°†éå­˜æ´»å¯¹è±¡ç»™å›æ”¶äº†, è¿˜éœ€è¦å¯¹å†…å­˜ç©ºé—´åšæ•´é¡¿.")]),_._v(" "),t("p",[_._v("å°±åƒæ˜¯æˆ‘ä»¬å¹³å¸¸æ‰“æ‰«æˆ¿é—´, ä¸ä»…ä»…æ˜¯å°†ä¸è¦çš„åƒåœ¾æ¸…ç†æ‰, è¿˜é¡ºä¾¿æŠŠæˆ¿é—´å†…çš„ä¸œè¥¿ç»™æ”¾æ•´é½äº†ğŸ˜Š.")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/25/16f3b3648b5d9a27?w=300&h=210&f=png&s=57717",alt:""}})]),_._v(" "),t("h3",{attrs:{id:"è€ç”Ÿä»£å†…å­˜çš„å›æ”¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è€ç”Ÿä»£å†…å­˜çš„å›æ”¶"}},[_._v("#")]),_._v(" è€ç”Ÿä»£å†…å­˜çš„å›æ”¶")]),_._v(" "),t("p",[_._v("å¦‚æœ"),t("strong",[_._v("æ–°ç”Ÿä»£ä¸­çš„å˜é‡")]),_._v("ç»è¿‡å¤šæ¬¡å›æ”¶ä¹‹åä¾ç„¶å­˜åœ¨çš„è¯, å®ƒå°±ä¼šå‘ç”Ÿâ€œ"),t("strong",[_._v("æ™‹å‡")]),_._v("â€, è¢«æ”¾å…¥"),t("strong",[_._v("è€ç”Ÿä»£å†…å­˜ä¸­")]),_._v(".")]),_._v(" "),t("p",[_._v("äº§ç”Ÿæ™‹å‡çš„æƒ…å†µ:")]),_._v(" "),t("ul",[t("li",[_._v("å·²ç»ç»å†è¿‡ä¸€æ¬¡"),t("code",[_._v("Scavenge")]),_._v("å›æ”¶;")]),_._v(" "),t("li",[t("code",[_._v("To(é—²ç½®å†…å­˜)")]),_._v("ç©ºé—´çš„å†…å­˜ä¸è¶³"),t("code",[_._v("75%")]),_._v(".")])]),_._v(" "),t("p",[_._v("é€šè¿‡ä¸Šé¢ğŸ‘†çš„ä»‹ç»æˆ‘ä»¬å·²ç»çŸ¥é“, è€ç”Ÿä»£å†…å­˜çš„ç©ºé—´ä¼šæ¯”æ–°ç”Ÿä»£çš„å¤§äº†å¾ˆå¤š, è€Œä¸”è€ç”Ÿä»£ç´¯è®¡çš„å˜é‡ç©ºé—´ä¸€èˆ¬éƒ½æ˜¯å¾ˆå¤§çš„.")]),_._v(" "),t("p",[_._v("å› æ­¤è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶å°±ä¸èƒ½ç”¨"),t("code",[_._v("Scavenge")]),_._v("ç®—æ³•äº†, ä¸€æ˜¯ä¼šæµªè´¹ä¸€åŠçš„ç©ºé—´, äºŒå¯¹åºå¤§çš„å†…å­˜ç©ºé—´è¿›è¡Œå¤åˆ¶æœ¬èº«å°±æ˜¯ä¸ªâ€œå¾ˆé‡çš„ä½“åŠ›æ´»â€.")]),_._v(" "),t("h4",{attrs:{id:"æ ‡è®°æ¸…é™¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡è®°æ¸…é™¤"}},[_._v("#")]),_._v(" æ ‡è®°æ¸…é™¤")]),_._v(" "),t("p",[_._v("æ‰€ä»¥å¯¹äºè€ç”Ÿä»£çš„åƒåœ¾å›æ”¶å¹²è„†ç²—æš´ç‚¹å§, é‡‡ç”¨"),t("strong",[_._v("æ ‡è®°æ¸…é™¤")]),_._v("çš„æ–¹å¼è¿›è¡Œå›æ”¶.")]),_._v(" "),t("p",[t("strong",[_._v("æ ‡è®°æ¸…é™¤")]),_._v("ä¸»è¦æ˜¯ç»è¿‡ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹:")]),_._v(" "),t("ol",[t("li",[_._v("éå†å †ä¸­çš„æ‰€æœ‰å¯¹è±¡, ç»™å®ƒä»¬åšä¸Šæ ‡è®°;")]),_._v(" "),t("li",[_._v("ä¹‹åå¯¹äºä»£ç ç¯å¢ƒä¸­"),t("code",[_._v("ä½¿ç”¨çš„å˜é‡")]),_._v("å’Œ"),t("code",[_._v("è¢«å¼ºå¼•ç”¨")]),_._v("çš„å˜é‡"),t("code",[_._v("å–æ¶ˆæ ‡è®°")]),_._v("(è¢«æ ‡è®°çš„éƒ½æ˜¯åƒåœ¾);")]),_._v(" "),t("li",[_._v("æŠŠ"),t("code",[_._v("ä¾ç„¶è¢«æ ‡è®°çš„å˜é‡")]),_._v("å½“æˆåƒåœ¾ç»™æ¸…é™¤æ‰, è¿›è¡Œç©ºé—´çš„å›æ”¶;")])]),_._v(" "),t("p",[_._v("å½“ç„¶, å’Œæ–°ç”Ÿä»£ä¸€æ ·, åœ¨æ¸…ç†äº†ä¹‹å, è¿˜è¦æ•´ç†å†…å­˜ç¢ç‰‡, å½“ç„¶å®ƒçš„æ•´ç†åŠæ³•å°±æ˜¯åœ¨æ¸…ç†é˜¶æ®µç»“æŸåæŠŠå­˜æ´»å¯¹è±¡å…¨éƒ¨å¾€ä¸€ç«¯é æ‹¢.")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/28/16f4849a0850b736?w=906&h=618&f=png&s=151795",alt:"memory6.png"}})]),_._v(" "),t("p",[_._v("æ‰€ä»¥æ€»çš„æ¥è¯´, å¯¹äºè€ç”Ÿä»£å†…å­˜çš„å›æ”¶ä¸»è¦å°±æ˜¯ç»è¿‡:")]),_._v(" "),t("ul",[t("li",[t("code",[_._v("æ ‡è®°æ¸…é™¤é˜¶æ®µ")]),_._v(", ç•™ä¸‹å­˜æ´»å¯¹è±¡;")]),_._v(" "),t("li",[t("code",[_._v("æ•´ç†é˜¶æ®µ")]),_._v(", æŠŠå­˜æ´»å¯¹è±¡å¾€ä¸€è¾¹é æ‹¢.")])]),_._v(" "),t("p",[_._v("å› æ­¤, å¯¹äºç°åœ¨çš„ä¸»æµæµè§ˆå™¨æ¥è¯´, åªè¦åˆ‡æ–­å¯¹è±¡ä¸æ ¹éƒ¨çš„å…³ç³», å°±å¯ä»¥å°†å¯¹è±¡è¿›è¡Œå›æ”¶.")]),_._v(" "),t("h3",{attrs:{id:"å¹¶å‘æ ‡è®°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘æ ‡è®°"}},[_._v("#")]),_._v(" å¹¶å‘æ ‡è®°")]),_._v(" "),t("p",[_._v("åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»ä»‹ç»è¿‡äº†"),t("code",[_._v("V8")]),_._v("åœ¨è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™, ä¸å¯é¿å…åœ°ä¼šé˜»å¡ä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œ, ç‰¹åˆ«å¦‚æœæ˜¯è€ç”Ÿä»£åƒåœ¾å›æ”¶çš„ä»»åŠ¡æ¯”è¾ƒç¹é‡çš„æ—¶å€™, ä¼šå¾ˆè€—æ—¶ä¸¥é‡å½±å“åº”ç”¨çš„æ€§èƒ½.")]),_._v(" "),t("p",[_._v("ä¸ºä¼˜åŒ–è§£å†³æ­¤é—®é¢˜, "),t("code",[_._v("V8")]),_._v("å®˜æ–¹åœ¨"),t("code",[_._v("2018")]),_._v("å¹´æ¨å‡ºäº†åä¸º"),t("strong",[_._v("å¢é‡æ ‡è®°")]),_._v("çš„æŠ€æœ¯.")]),_._v(" "),t("p",[_._v("æ€»çš„æ¥è¯´è¯¥æŠ€æœ¯çš„ä½œç”¨å°±æ˜¯"),t("code",[_._v("å°†åŸæœ¬ä¸€å£æ°”å®Œæˆçš„æ ‡è®°ä»»åŠ¡åˆ†ä¸ºäº†å¾ˆå¤šå°çš„éƒ¨åˆ†å»å®Œæˆ, æ¯å®Œæˆä¸€ä¸ªå°ä»»åŠ¡å°±åœä¸€ä¼š, è®©jsé€»è¾‘æ‰§è¡Œä¸€ä¼š, ç„¶åå†ç»§ç»­æ‰§è¡Œä¸‹é¢çš„éƒ¨åˆ†")]),_._v(".")]),_._v(" "),t("blockquote",[t("p",[_._v("åœ¨ GC æ‰«æå’Œæ ‡è®°æ´»åŠ¨å¯¹è±¡æ—¶ï¼Œå®ƒå…è®¸ JavaScript åº”ç”¨ç¨‹åºç»§ç»­è¿è¡Œ")])]),_._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/12/28/16f4a6e6d5e4a637?w=866&h=696&f=png&s=100098",alt:"memory7.png"}})]),_._v(" "),t("p",[_._v("å…¶å®å®ƒå†…éƒ¨å¹¶æ²¡æœ‰ä¸Šé¢ğŸ‘†è¯´çš„è¿™ä¹ˆç®€å•, è¿˜æ˜¯æœ‰å¾ˆå¤šå®ç°æœºåˆ¶çš„, å…·ä½“çš„å¯ä»¥çœ‹è¿™é‡Œ:")]),_._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.im/entry/5b1fa706e51d4506a14dd041",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šå¼•æ“V8æ¨å‡ºâ€œå¹¶å‘æ ‡è®°â€ï¼Œå¯èŠ‚çœ60%-70%çš„GCæ—¶é—´ã€‹"),t("OutboundLink")],1)]),_._v(" "),t("p",[_._v("åœ¨é€šè¿‡å¢é‡æ ‡è®°å, åƒåœ¾å›æ”¶è¿‡ç¨‹å¯¹JSåº”ç”¨çš„é˜»å¡æ—¶é—´å‡å°‘åˆ°åŸæ¥äº†1 / 6, å¯ä»¥è¯´è¿™ä¼˜åŒ–ç›¸å½“å¤§äº†å•Š.")]),_._v(" "),t("h2",{attrs:{id:"æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[_._v("#")]),_._v(" æ€»ç»“")]),_._v(" "),t("p",[t("strong",[_._v("V8 å†…å­˜é™åˆ¶ï¼šä¸ºäº†åƒåœ¾å›æ”¶ä¸å½±å“æ€§èƒ½ï¼ŒV8 å¼•æ“å­˜åœ¨å†…å­˜é™åˆ¶ï¼Œåœ¨ 64 ä½ç³»ç»Ÿä¸‹ä¸º "),t("code",[_._v("32MB")]),_._v("; 32 ä½ç³»ç»Ÿä¸‹ä¸º "),t("code",[_._v("16MB")]),_._v("ã€‚")])]),_._v(" "),t("p",[t("strong",[_._v("V8 åˆ†ä»£ç®¡ç†ï¼šV8 çš„å†…å­˜ç©ºé—´ï¼Œå­˜åœ¨æ–°ç”Ÿä»£ä¸è€ç”Ÿä»£ã€‚æ–°ç”Ÿä»£æ—¶ä¸´æ—¶å†…å­˜ï¼Œç©ºé—´å°ã€‚è€ç”Ÿä»£æ˜¯å¸¸é©»å†…å­˜ï¼Œç©ºé—´å¤§ã€‚æ–°ç”Ÿä»£å†…å­˜ç»è¿‡å¤šæ¬¡å†…å­˜åˆ†é…å›æ”¶ï¼Œè‹¥ä»æ—§å­˜åœ¨ï¼Œä¼šæ™‹å‡åˆ°è€ç”Ÿä»£ã€‚")])]),_._v(" "),t("p",[t("strong",[_._v("V8 åƒåœ¾å›æ”¶ï¼š")])]),_._v(" "),t("p",[_._v("â‘ æ ‡è®°æ¸…é™¤ï¼šç»™æ‰€æœ‰å˜é‡/å¯¹è±¡æ‰“ä¸Šæ ‡è®°ï¼Œæœ‰å¼•ç”¨å°±å…ˆæ¸…é™¤ï¼Œæœ‰æ ‡è®°å°±æ˜¯åƒåœ¾ã€‚")]),_._v(" "),t("p",[_._v("â‘¡å¹¶å‘æ¸…é™¤ï¼šå°†æ ‡è®°ä»»åŠ¡åˆ†æˆå¤šæ®µå°ä»»åŠ¡, æ¯å®Œæˆä¸€ä¸ªå°ä»»åŠ¡å°±åœä¸€ä¼š, è®©jsé€»è¾‘æ‰§è¡Œä¸€ä¼š, ç„¶åå†ç»§ç»­æ‰§è¡Œä¸‹é¢çš„éƒ¨åˆ†ã€‚")]),_._v(" "),t("p",[_._v("å‚è€ƒæ–‡ç« :")]),_._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://juejin.im/post/5dcb7f706fb9a04aad01615a",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šç¥ä¸‰å…ƒ-V8 å¼•æ“åƒåœ¾å†…å­˜å›æ”¶åŸç†è§£æã€‹"),t("OutboundLink")],1)]),_._v(" "),t("li",[t("a",{attrs:{href:"https://muyiy.cn/blog/1/1.4.html#%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šæœ¨æ˜“æ¨-JavaScriptæ·±å…¥ä¹‹å¸¦ä½ èµ°è¿›å†…å­˜æœºåˆ¶ã€‹"),t("OutboundLink")],1)]),_._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/qq_35624642/article/details/81084331",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šnodejs å‰ç«¯é¡¹ç›®ç¼–è¯‘æ—¶å†…å­˜æº¢å‡ºé—®é¢˜çš„åŸå› åŠè§£å†³æ–¹æ¡ˆã€‹"),t("OutboundLink")],1)]),_._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/entry/5b1fa706e51d4506a14dd041",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šå¼•æ“V8æ¨å‡ºâ€œå¹¶å‘æ ‡è®°â€ï¼Œå¯èŠ‚çœ60%-70%çš„GCæ—¶é—´ã€‹"),t("OutboundLink")],1)]),_._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/LinDaiDai/niubility-coding-js",target:"_blank",rel:"noopener noreferrer"}},[_._v("éœ–å‘†å‘†çš„blog"),t("OutboundLink")],1)]),_._v(" "),t("li",[_._v("https://segmentfault.com/q/1010000004170439")])]),_._v(" "),t("h2",{attrs:{id:"æ‰©å±•é˜…è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å±•é˜…è¯»"}},[_._v("#")]),_._v(" æ‰©å±•é˜…è¯»")]),_._v(" "),t("p",[_._v("æœ¬æ–‡ä¸¥æ ¼æ¥çœ‹ä»æ—§ä¸å¤Ÿä¸¥è°¨ï¼Œéƒ¨åˆ†åœ°æ–¹å«ç³Šä¸æ¸…ï¼Œä¹Ÿæ¯”è¾ƒç‰‡é¢ï¼ˆåªå¼ºåŒ–äº†â€œæ ˆå †ä¸é—­åŒ…â€è¿™ä¸ªç›¸å…³çŸ¥è¯†ç‚¹çš„ç†è§£ï¼‰ã€‚")]),_._v(" "),t("p",[_._v("åœ¨æ–‡ç« æ›´æ–°ä¹‹å‰ï¼Œå¯¹äºåƒåœ¾å›æ”¶è‹¥æœ‰æ›´æ·±çš„ç†è§£ï¼Œä»æ—§éœ€è¦å‚è€ƒå…¶ä»–æ–‡ç« ã€‚")]),_._v(" "),t("p",[_._v("æ¨èä»¥ä¸‹é“¾æ¥")]),_._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/weixin_43378716/article/details/107523637",target:"_blank",rel:"noopener noreferrer"}},[_._v("ç†è§£v8çš„åƒåœ¾æ¸…ç†_weixin_43378716çš„åšå®¢-CSDNåšå®¢"),t("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=r.exports}}]);