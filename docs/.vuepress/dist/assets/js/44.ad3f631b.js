(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{220:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("p",[t._v("ä½ ç›¼ä¸–ç•Œï¼Œæˆ‘ç›¼æœ›ä½ æ— "),a("code",[t._v("bug")]),t._v("ã€‚Hello å¤§å®¶å¥½ï¼æˆ‘æ˜¯éœ–å‘†å‘†ï¼")]),t._v(" "),a("p",[t._v("å…¶å®žæœ¬æ–‡æ€Žä¹ˆè¯´å‘¢ï¼Œç®—ä¸ä¸Šæ˜¯å‘†å‘†çš„çº¯åŽŸåˆ›å§ï¼Œå› ä¸ºå‘†å‘†ä¹Ÿæ˜¯å‚è€ƒæ™¨æ›¦è€å“¥çš„"),a("a",{attrs:{href:"https://juejin.im/post/5e79e841f265da5726612b6e",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ‰‹å†™async awaitçš„æœ€ç®€å®žçŽ°ï¼ˆ20è¡Œï¼‰"),a("OutboundLink")],1),t._v("æ¥å†™çš„ï¼ŒåŒ…æ‹¬æ¡ˆä¾‹å•¥çš„ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå“ˆå“ˆä¸è¿‡å¤§å®¶è¯·æ”¾å¿ƒæˆ‘ä¹Ÿæ˜¯ç»è¿‡åŽŸä½œè€…æŽˆæƒçš„ï¼Œè€Œä¸”å‚è€ƒçš„è¿™ç¯‡æ–‡ç« ï¼Œå¯¹æ‰‹å†™"),a("code",[t._v("async")]),t._v("å‡½æ•°è¯´çš„ä¹Ÿå¾ˆæ¸…æ¥šäº†ã€‚ä¸è¿‡å‘†å‘†ä¸»è¦æ˜¯åœ¨å…¶ä¸­åŠ ä¸Šäº†ä¸€äº›è‡ªå·±çš„ç†è§£ä»¥åŠæ›´åŠ è¯¦ç»†çš„è½¬æ¢è¿‡ç¨‹ï¼Œä¹Ÿç®—æ˜¯è‡ªå·±çš„ä¸€ä¸ªå­¦ä¹ ç¬”è®°å§ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥å¦‚æžœæ‚¨åœ¨çœ‹å®Œå‘†å‘†å†™çš„è¿™ç¯‡æ–‡ç« åŽï¼Œè¿˜å¸Œæœ›å¯ä»¥å†çœ‹ä¸€éæ™¨æ›¦å“¥çš„åŽŸåˆ›ï¼Œè¿™æ ·å¯¹æ‚¨çš„å¸®åŠ©åº”è¯¥ä¼šæ›´å¤§ã€‚")]),t._v(" "),a("p",[t._v("(å¦å¤–å¦‚æžœæ‚¨è§‰å¾—å‘†å‘†å†™çš„è¿˜ä¸é”™çš„è¯è¿˜å¸Œæœ›å¯ä»¥ç»™æœ¬ç¯‡å’ŒåŽŸåˆ›éƒ½ç‚¹ä¸€ä¸ªèµžï¼Œæ¯•ç«Ÿå‘†å‘†ä¹Ÿæ˜¯å€Ÿé‰´çš„æ™¨æ›¦å“¥çš„ï¼Œå†…å¿ƒæœ‰æ„§...å•Šå•Šå•Š...ä¸ºä»€ä¹ˆæ„Ÿè§‰æˆ‘æ˜¯çœŸçš„è‡­ä¸è¦è„¸ï¼Œå“ªæœ‰æ±‚äººå®¶èµžè¿˜å¸¦é€ä¸€ä¸ªèµžçš„ðŸ˜‚)")]),t._v(" "),a("h2",{attrs:{id:"æ­£æ–‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­£æ–‡"}},[t._v("#")]),t._v(" æ­£æ–‡")]),t._v(" "),a("p",[a("code",[t._v("ES8")]),t._v("æŽ¨å‡ºçš„"),a("code",[t._v("async/await")]),t._v("å…è®¸æˆ‘ä»¬ç”¨æ›´åŠ ä¼˜é›…çš„æ–¹å¼æ¥å®žçŽ°å¼‚æ­¥ä»£ç ï¼Œä»ŽæŸç§è§’åº¦ä¸Šæ¥è¯´ï¼Œå®ƒæ˜¯"),a("code",[t._v("Generator")]),t._v("å‡½æ•°çš„è¯­æ³•ç³–ï¼Œå°±åƒæˆ‘ä»¬ç»å¸¸è¯´"),a("code",[t._v("class")]),t._v("æ˜¯æž„é€ å‡½æ•°çš„è¯­æ³•ç³–ä¸€æ ·ã€‚")]),t._v(" "),a("h3",{attrs:{id:"asyncæ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#asyncæ¡ˆä¾‹"}},[t._v("#")]),t._v(" asyncæ¡ˆä¾‹")]),t._v(" "),a("p",[t._v("åŸºæœ¬ç”¨æ³•å•¥çš„æˆ‘å°±ä¸è¯´äº†ï¼Œè¿™é‡Œç›´æŽ¥ä¸Šä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ï¼ŒåŽé¢ä¸€æ­¥æ­¥çš„è½¬æ¢è¿‡ç¨‹éƒ½æ˜¯ä»¥æ­¤æ¡ˆä¾‹ä½œä¸ºåŸºç¡€ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("é’ˆå¯¹äºŽä¸Šé¢çš„è¿™æ®µä»£ç ï¼Œç›¸ä¿¡å¤§å®¶éƒ½æ²¡æœ‰ä»€ä¹ˆç–‘é—®ï¼Œå¾ˆå¿«æˆ‘ä»¬å°±èƒ½è¯´å‡ºç­”æ¡ˆï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1s åŽæ‰“å°å‡º")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1s åŽæ‰“å°å‡º")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),t._v("\n")])])]),a("h3",{attrs:{id:"generatoræ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generatoræ¡ˆä¾‹"}},[t._v("#")]),t._v(" Generatoræ¡ˆä¾‹")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬å…ˆæ¥å›žé¡¾ä¸€ä¸‹"),a("code",[t._v("Generator")]),t._v("æœ€åŸºæœ¬çš„ä¸€äº›æ¦‚å¿µï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("function")]),t._v("åŽé¢åŠ ä¸Š"),a("code",[t._v("*")]),t._v("è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª"),a("code",[t._v("Generator")]),t._v("å‡½æ•°ï¼Œå¦‚"),a("code",[t._v("function* testG(){}")])]),t._v(" "),a("li",[t._v("å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨"),a("code",[t._v("yield")]),t._v("æ¥ä¸­æ–­å‡½æ•°çš„æ‰§è¡Œï¼Œå³å½“æ¯æ¬¡æ‰§è¡Œåˆ°"),a("code",[t._v("yield")]),t._v("è¯­å¥çš„æ—¶å€™ï¼Œå‡½æ•°æš‚åœæ‰§è¡Œ")]),t._v(" "),a("li",[t._v("æš‚åœæ‰§è¡Œä¹‹åŽï¼Œéœ€è¦è°ƒç”¨"),a("code",[t._v("next()")]),t._v("æ‰ä¼šç»§ç»­æ‰§è¡Œ"),a("code",[t._v("Generator")]),t._v("å‡½æ•°ï¼Œç›´åˆ°ç¢°åˆ°å‡½æ•°å†…ä¸‹ä¸€ä¸ª"),a("code",[t._v("yield")]),t._v("åˆä¼šæš‚åœ")]),t._v(" "),a("li",[t._v("ä»¥æ­¤å¾ªçŽ¯ï¼Œç›´åˆ°å‡½æ•°å†…æœ‰"),a("code",[t._v("return")]),t._v("æˆ–è€…å‡½æ•°å†…ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œ")])]),t._v(" "),a("p",[t._v("å…¶ä¸­è¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯æ¯æ¬¡è°ƒç”¨"),a("code",[t._v("next()")]),t._v("çš„è¿”å›žå€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šæœ‰ä¸¤ä¸ªå±žæ€§ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("value")]),t._v("ï¼š"),a("code",[t._v("yield")]),t._v("è¯­å¥åŽçš„è¡¨è¾¾å¼çš„ç»“æžœ")]),t._v(" "),a("li",[a("code",[t._v("done")]),t._v("ï¼šå½“å‰çš„"),a("code",[t._v("Generator")]),t._v("å¯¹è±¡çš„é€»è¾‘å—æ˜¯å¦æ‰§è¡Œå®Œæˆ")])]),t._v(" "),a("p",[t._v("å¦‚æžœè¯´æˆ‘ä»¬æŠŠä¸Šé¢çš„æ¡ˆä¾‹è½¬æ¢ä¸º"),a("code",[t._v("Generator")]),t._v("æ¥å®žçŽ°çš„è¯ï¼Œæˆ‘ä»¬æƒ³çš„å¯èƒ½ä¼šæ˜¯è¿™æ ·æ¥å†™ï¼š")]),t._v(" "),a("p",[a("em",[t._v("æ¡ˆä¾‹ä¸€ï¼š")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¹‹åŽæ‰‹åŠ¨è°ƒç”¨3æ¬¡")]),t._v("\ngen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¯æ˜¯ä¸Šé¢ðŸ‘†çš„ä»£ç çœŸçš„ä¼šå’Œ"),a("code",[t._v("async")]),t._v("æ¡ˆä¾‹ä¸­çš„æ‰§è¡Œç»“æžœä¸€æ ·å—ï¼Ÿ")]),t._v(" "),a("p",[t._v("å½“æˆ‘æ‰“å¼€æŽ§åˆ¶å°çš„æ—¶å€™ï¼Œç»“æžœå´å‡ºä¹Žæˆ‘çš„æ„æ–™ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("data: undefined\ndata2: undefined\n")])])]),a("p",[t._v("What...?")]),t._v(" "),a("p",[t._v("ä½ çš„"),a("code",[t._v("suceess")]),t._v("æ²¡æœ‰æ‰“å°å°±ç®—äº†ï¼Œä½ çš„"),a("code",[t._v("data")]),t._v("å’Œ"),a("code",[t._v("data2")]),t._v("ç«Ÿç„¶éƒ½è¿˜æ˜¯"),a("code",[t._v("undefined")]),t._v("ï¼Ÿè¿™å°±æœ‰ç‚¹éš¾ä»¥ç†è§£äº†ã€‚")]),t._v(" "),a("p",[t._v("éš¾é“è¯´æ˜¯æˆ‘çš„è°ƒç”¨å§¿åŠ¿ä¸å¯¹å—...")]),t._v(" "),a("p",[t._v("æœ¬ç€è‰¯å¥½çš„èŒä¸šç´ å…»ï¼Œæˆ‘å¯¹"),a("code",[t._v("Generator")]),t._v("ç ”ç©¶äº†ä¸€æ³¢ï¼Œç„¶åŽä¿®æ”¹äº†ä¸€ä¸‹ä¸Šé¢çš„ä»£ç ï¼š")]),t._v(" "),a("p",[a("em",[t._v("æ¡ˆä¾‹äºŒï¼š")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰‹åŠ¨è°ƒç”¨3æ¬¡ä¸”æŠŠæ¯æ¬¡çš„è¿”å›žå€¼æ‰“å°å‡ºæ¥çœ‹çœ‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dataPromise"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dataPromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dataPromise2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿™ä¸ªå‚æ•°æ‰ä¼šè¢«èµ‹ç»™dataå˜é‡'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dataPromise2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dataPromise3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿™ä¸ªå‚æ•°æ‰ä¼šè¢«èµ‹ç»™data2å˜é‡'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dataPromise3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¯ä»¥çœ‹åˆ°ä¸åŒä¹‹å¤„åœ¨äºŽæˆ‘æŠŠè°ƒç”¨ä¸‰æ¬¡çš„è¿”å›žå€¼ç”¨äº†ä¸€ä¸ªå˜é‡æ¥ç››æ”¾ï¼Œå¹¶ä¸”åœ¨åŽé¢ä¸¤æ¬¡è°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("çš„æ—¶å€™ä¼ é€’äº†å‚æ•°è¿›åŽ»ã€‚")]),t._v(" "),a("p",[t._v("çŽ°åœ¨çš„è¾“å‡ºç»“æžœä¸ºï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿™ä¸ªå‚æ•°æ‰ä¼šè¢«èµ‹ç»™dataå˜é‡'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿™ä¸ªå‚æ•°æ‰ä¼šè¢«èµ‹ç»™data2å˜é‡'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("What X 2...?")]),t._v(" "),a("p",[t._v("å“ˆå“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘äº†ï¼Œè¿™"),a("code",[t._v("data")]),t._v("å’Œ"),a("code",[t._v("data2")]),t._v("çš„è¿”å›žå€¼éš¾é“ä¸æ˜¯"),a("code",[t._v("yield getData()")]),t._v("çš„ç»“æžœå—ï¼Ÿ")]),t._v(" "),a("p",[t._v("æˆ‘è¿™é‡Œçš„ä»£ç æ˜Žæ˜Žå°±æ˜¯"),a("code",[t._v("const data = yield getData()")]),t._v("å‘€ï¼Œå¯æ˜¯æ€Žä¹ˆä¼šå˜æˆäº†"),a("code",[t._v("'è¿™ä¸ªå‚æ•°æ‰ä¼šè¢«èµ‹ç»™dataå˜é‡'")]),t._v("å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("åŽŸæ¥æœ‰äº›çš„ä½ ä»¥ä¸ºå¹¶ä¸æ˜¯çœŸçš„ä½ ä»¥ä¸ºï¼Œå‘†å‘†è¿™é‡Œè¯¦ç»†æŠŠæ¯ä¸€æ­¥éƒ½åˆ†æžä¸€ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/5/11/17201bf0f6f40f91?w=1632&h=1320&f=png&s=446674",alt:""}})]),t._v(" "),a("p",[t._v("OKðŸ‘Œï¼Œç›¸ä¿¡èªæ˜Žçš„ä½ çŽ°åœ¨ä¸€å®šå¼„æ‡‚"),a("code",[t._v("Generator")]),t._v("çš„æ‰§è¡Œæœºåˆ¶äº†ï¼Œå®ƒå’Œæˆ‘ä»¬çš„"),a("code",[t._v("async")]),t._v("å‡½æ•°æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ã€‚")]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("async")]),t._v("å‡½æ•°ä¸­ï¼Œ"),a("code",[t._v("const data = await getData()")]),t._v("ï¼Œè¿™ä¸ª"),a("code",[t._v("data")]),t._v("æ˜¯"),a("code",[t._v("getData()")]),t._v("ä¸­"),a("code",[t._v("resolve()")]),t._v("çš„ç»“æžœã€‚")]),t._v(" "),a("p",[t._v("è€Œ"),a("code",[t._v("generator")]),t._v("å‡½æ•°ä¸­ï¼Œ"),a("code",[t._v("const data = yield getData()")]),t._v("ï¼Œå…¶å®žåªæ‰§è¡Œäº†"),a("code",[t._v("yield getData()")]),t._v("å‡½æ•°è€Œå·²å¹¶ä¸”ä¼šæŠŠè¿™ä¸ªå€¼ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("çš„è¿”å›žå€¼ï¼Œä¹Ÿå°±æ˜¯è¢«"),a("code",[t._v("dataPromise")]),t._v("æ‰€æŽ¥æ”¶ã€‚")]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("éœ€è¦ç­‰åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("æ—¶æ‰ä¼šè¢«èµ‹å€¼ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æ¡ˆä¾‹ä¸€ä¸­"),a("code",[t._v("data")]),t._v("ä¼šæ˜¯"),a("code",[t._v("undefined")]),t._v("ï¼Œå› ä¸ºé‚£æ—¶å€™æˆ‘ä»¬è°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("æ˜¯æ²¡æœ‰ä¼ é€’ä»»ä½•å‚æ•°çš„ã€‚")]),t._v(" "),a("h3",{attrs:{id:"generatoræ¡ˆä¾‹è½¬æ¢asyncæ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generatoræ¡ˆä¾‹è½¬æ¢asyncæ¡ˆä¾‹"}},[t._v("#")]),t._v(" Generatoræ¡ˆä¾‹è½¬æ¢asyncæ¡ˆä¾‹")]),t._v(" "),a("p",[t._v("æ˜¾ç„¶ï¼Œä¸Šé¢ðŸ‘†ä¸¤ä¸ªæ¡ˆä¾‹çš„æ‰§è¡Œç»“æžœå’Œ"),a("code",[t._v("async")]),t._v("æ¡ˆä¾‹ä¸­çš„ç»“æžœæ˜¯ä¸ä¸€æ ·çš„ï¼Œæˆ‘åªæ˜¯å°†å…¶åšäº†ä¸€äº›æ‹†åˆ†ä»¥ä¾¿è®©ä½ æ›´å¥½çš„ç†è§£æŽ¥ä¸‹æ¥æˆ‘è¦åšçš„äº‹æƒ…ã€‚")]),t._v(" "),a("p",[t._v("å˜»å˜»ðŸ˜ï¼Œé‚£ä¹ˆå¦‚ä½•è®©æ¡ˆä¾‹äºŒèƒ½æ‰“å°å‡ºå’Œ"),a("code",[t._v("async")]),t._v("æ¡ˆä¾‹ä¸€æ ·çš„ç»“æžœå‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ç»†å¿ƒçš„å°ä¼™ä¼´å¯èƒ½å·²ç»æœ‰äº†ä¸€äº›æƒ³æ³•ï¼Œ"),a("code",[t._v("dataPromise")]),t._v("ä¸­ä¼šæœ‰è°ƒç”¨è¿”å›žçš„"),a("code",[t._v("Promise")]),t._v("å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±èƒ½æ‹¿åˆ°è¿™ä¸ª"),a("code",[t._v("Promise")]),t._v("çš„è¿”å›žå€¼"),a("code",[t._v("'data'")]),t._v("äº†ï¼Œåªéœ€è¦ä½¿ç”¨"),a("code",[t._v(".then()")]),t._v("æ¥è¿›è¡Œä¸€ä¸ªé“¾å¼è°ƒç”¨ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dataPromise "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndataPromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dataPromise2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  dataPromise2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dataPromise3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dataPromise3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("çŽ°åœ¨çš„ç»“æžœå°±æ˜¯å’Œ"),a("code",[t._v("async")]),t._v("æ¡ˆä¾‹çš„ç»“æžœä¸€æ ·å’¯ï¼š")]),t._v(" "),a("p",[t._v("ï¼ˆå¦‚æžœä½ å¯¹è¿™é“é¢˜çš„ç»“æžœè¿˜æ˜¯æ¯”è¾ƒæ¨¡ç³Šçš„è¯è¯·å†ä»”ç»†çœ‹ä¸€ä¸‹æˆ‘åœ¨æ¡ˆä¾‹äºŒçš„é‚£ä¸€å¤§å¨ä»£ç æ³¨é‡Šå“¦ï¼‰")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1s åŽæ‰“å°å‡º")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1s åŽæ‰“å°å‡º")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),t._v("\n")])])]),a("p",[t._v("ï¼ˆæ³¨æ„âš ï¸ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("çš„æ—¶å€™ï¼Œå®ƒçš„è¿”å›žå€¼æ˜¯ä¸€ä¸ª"),a("code",[t._v("{ value: {}, done: false }")]),t._v("è¿™æ ·çš„å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³è¦ä½¿ç”¨è¿”å›žçš„"),a("code",[t._v("Promise")]),t._v("çš„æ—¶å€™ï¼Œéœ€è¦ç”¨"),a("code",[t._v("dataPromise.value")]),t._v("æ¥èŽ·å–ï¼‰")]),t._v(" "),a("h3",{attrs:{id:"throw"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#throw"}},[t._v("#")]),t._v(" throw()")]),t._v(" "),a("p",[t._v("åœ¨æ­£å¼è®²è§£ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å†æ¥è®¤è¯†ä¸€ä¸‹"),a("code",[t._v("Generator")]),t._v("çš„å¦ä¸€ä¸ªå®žä¾‹æ–¹æ³•"),a("code",[t._v("throw()")]),t._v("ï¼Œä¹‹æ‰€ä»¥è¯´åˆ°å®ƒï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æœ€ç»ˆçš„ä»£ç éœ€è¦ç”¨åˆ°å®ƒã€‚")]),t._v(" "),a("p",[t._v("å®ƒå’Œ"),a("code",[t._v("next()")]),t._v("ä¸€æ ·ï¼Œéƒ½æ˜¯å±žäºŽ"),a("code",[t._v("Generator.prototype")]),t._v("ä¸Šçš„æ–¹æ³•ï¼Œä¸”è¿”å›žå€¼ä¹Ÿæ˜¯å’Œ"),a("code",[t._v("next()")]),t._v("ä¸€æ ·ã€‚")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹äº†è§£ä¸€ä¸‹å®ƒæ˜¯æ€Žæ ·ä½¿ç”¨çš„å“ˆï¼š")]),t._v(" "),a("p",[t._v("(åˆ©ç”¨"),a("code",[t._v("while(true){}")]),t._v("å¾ªçŽ¯ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¯ä»¥æ— é™è°ƒç”¨çš„"),a("code",[t._v("Generator")]),t._v("å‡½æ•°)")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LinDaiDai'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value: 'LinDaiDai', done: false }")]),t._v("\ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value: 'LinDaiDai', done: false }")]),t._v("\ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("throw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'é”™è¯¯'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Error: 'é”™è¯¯'")]),t._v("\n")])])]),a("p",[t._v("è€Œä¸”ä½ ä¼šå‘çŽ°ï¼Œå¹¶ä¸æ˜¯"),a("code",[t._v("throw")]),t._v("ä¸­ä¸€å®šè¦ä¼ ä¸€ä¸ª"),a("code",[t._v("new Error()")]),t._v("æ‰ä¼šè¢«é‡Œé¢çš„"),a("code",[t._v("catch")]),t._v("æ•èŽ·ï¼Œä½ å°±ç®—æ˜¯ä¼ é€’ä¸€ä¸ªåˆ«çš„ç±»åž‹çš„å€¼è¿›åŽ»ï¼Œä¹Ÿä¼šï¼Œä¾‹å¦‚æˆ‘ç›´æŽ¥ä¼ é€’å­—ç¬¦ä¸²"),a("code",[t._v("'é”™è¯¯'")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("throw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'é”™è¯¯'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'é”™è¯¯'")]),t._v("\n")])])]),a("p",[t._v("å®ƒä¹Ÿä¼šè¢«æ•èŽ·ã€‚")]),t._v(" "),a("h3",{attrs:{id:"generatorå®žçŽ°async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generatorå®žçŽ°async"}},[t._v("#")]),t._v(" Generatorå®žçŽ°async?")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨æžæ‡‚äº†"),a("code",[t._v("Generator")]),t._v("çš„æ‰§è¡Œæœºåˆ¶ä¹‹åŽï¼Œå°±å¯ä»¥æ¥çœ‹çœ‹ï¼Œ"),a("code",[t._v("async")]),t._v("æ˜¯æ€Žæ ·ç”¨"),a("code",[t._v("Generator")]),t._v("æ¥å®žçŽ°çš„äº†ã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç¡®å®šä¸€ä¸‹æˆ‘ä»¬è¦åšçš„äº‹æƒ…ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¸ªå°±æ˜¯ä¸Šé¢çš„é‚£ä¸ªæ¡ˆä¾‹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data2: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ªè½¬æ¢å‡½æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" test "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("é‚£ä¹ˆå¯ä»¥çœ‹åˆ°ï¼ŒçŽ°åœ¨çš„å…³é”®å°±æ˜¯åœ¨äºŽå®žçŽ°ä¸€ä¸ª"),a("code",[t._v("asyncToGenerator")]),t._v("è½¬æ¢å‡½æ•°ï¼Œå®ƒæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æŽ¥æ”¶ä¸€ä¸ª"),a("code",[t._v("Generator")]),t._v("å‡½æ•°")]),t._v(" "),a("li",[t._v("è¿”å›žä¸€ä¸ª"),a("code",[t._v("Promise")])])]),t._v(" "),a("p",[t._v("è€Œ"),a("code",[t._v("Generator")]),t._v("ä½ ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œå®ƒæ˜¯å¾ˆæ‡’çš„ï¼Œéœ€è¦æˆ‘ä»¬æ¯è°ƒç”¨ä¸€æ¬¡"),a("code",[t._v("next()")]),t._v("å‡½æ•°å®ƒæ‰èµ°ä¸€æ­¥ï¼Œæ‰€ä»¥å¦‚ä½•è®©å®ƒè‡ªåŠ¨çš„æ‰§è¡Œæˆä¸ºäº†æˆ‘ä»¬éœ€è¦æ€è€ƒçš„ç‚¹ã€‚")]),t._v(" "),a("p",[t._v("å‘†å‘†è¿™é‡Œä¹Ÿä¸å†å°æ°”äº†ï¼Œç›´æŽ¥ä¸Šæ™¨æ›¦è€å“¥çš„ä»£ç å†è¿›è¡Œè®²è§£å§ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generatorResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          generatorResult "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generatorResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"next"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"throw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"next"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ€Žä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯è§‰å¾—æ™¨æ›¦è€å“¥å¾ˆçŸ­å•Šï¼Œå‘¸ï¼Œå†™çš„å¾ˆç²¾ç®€å‘€ ðŸ˜„ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æžœè§‰å¾—æœ‰ç‚¹åƒåŠ›çš„è¯æ²¡å…³ç³»ï¼Œå‘†å‘†ä¼šå°†æ¯ä¸€æ­¥ä»”ç»†æ‹†åˆ†ç€è¯´ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_1-æ•´ä½“ç»“æž„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•´ä½“ç»“æž„"}},[t._v("#")]),t._v(" 1. æ•´ä½“ç»“æž„")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ¥è®¾æƒ³ä¸€ä¸‹"),a("code",[t._v("asyncToGenerator")]),t._v("çš„å¤§æ¦‚æ ·å­äº†ï¼Œå®ƒä¹Ÿè®¸æ˜¯é•¿è¿™æ ·çš„ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¾ç…§è¦æ±‚ï¼ŒæŽ¥æ”¶ä¸€ä¸ª"),a("code",[t._v("Generator")]),t._v("å‡½æ•°ï¼Œè¿”å›žä¸€ä¸ª"),a("code",[t._v("Promise")]),t._v("ï¼Œä¸Šé¢è¿™ç§ç»“æž„æ˜¯å®Œå…¨æ»¡è¶³çš„ã€‚å¯æ˜¯å¦‚æžœæ˜¯æƒ³è¦è¿”å›ž"),a("code",[t._v("Promise")]),t._v("çš„è¯ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æŠŠå®ƒåŒ…åˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢å‘¢ï¼Œä¸åº”è¯¥æ˜¯è¿™æ ·å†™å—ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å””...è¿™æ ·å†™å›ºç„¶ä¹Ÿå¯ä»¥ï¼Œä¸è¿‡åˆ«å¿˜äº†æˆ‘ä»¬çš„è°ƒç”¨æ–¹å¼ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" test "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬ä¸€èˆ¬æ˜¯ä¼šæŠŠ"),a("code",[t._v("asyncToGenerator")]),t._v("çš„è¿”å›žå€¼ç”¨ä¸€ä¸ªå˜é‡æ¥ç››æ”¾çš„ï¼Œæ‰€ä»¥å¦‚æžœä½ ä¸åŒ…åˆ°å‡½æ•°é‡Œçš„è¯ï¼Œå°±åªèƒ½è¿™æ ·è°ƒç”¨äº†ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_2-å¦‚ä½•ä¿è¯è‡ªåŠ¨è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¦‚ä½•ä¿è¯è‡ªåŠ¨è°ƒç”¨"}},[t._v("#")]),t._v(" 2. å¦‚ä½•ä¿è¯è‡ªåŠ¨è°ƒç”¨")]),t._v(" "),a("p",[t._v("æœ‰äº†"),a("code",[t._v("asyncToGenerator")]),t._v("å‡½æ•°çš„æ•´ä½“ç»“æž„ä¹‹åŽæˆ‘ä»¬å°±è¦å¼€å§‹è€ƒè™‘å¦‚ä½•è®©å®ƒè‡ªåŠ¨è°ƒç”¨è¿™ä¸€ä¸ªä¸ªçš„"),a("code",[t._v("next()")]),t._v("å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å’¦ï½žä½ æ˜¯ä¸æ˜¯æƒ³åˆ°äº†ä»€ä¹ˆï¼Ÿ")]),t._v(" "),a("p",[t._v("é€’å½’ï¼Ÿ")]),t._v(" "),a("p",[t._v("å˜»å˜»ðŸ˜ï¼Œç¡®å®žåƒè¿™ç§éœ€è¦å¾ªçŽ¯è°ƒç”¨çš„æ—¶å€™ç¡®å®žå®¹æ˜“è®©äººæƒ³åˆ°é€’å½’ï¼Œè¿™é‡Œå…¶å®žä¹Ÿæ˜¯å¯ä»¥çš„ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥çŽ°åœ¨æˆ‘ä»¬å°±å¾—å…ˆç¡®å®šé€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ä»€ä¹ˆã€‚")]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("Generator")]),t._v("å‡½æ•°ä¸­ï¼Œä»€ä¹ˆæƒ…å†µæ‰ç®—æ˜¯è¯¥å¯¹è±¡çš„é€»è¾‘ä»£ç æ‰§è¡Œå®Œäº†å‘¢ï¼Ÿè¿™ä¸ªå…¶å®žå‰é¢ä¹Ÿå·²ç»æåˆ°äº†ï¼Œå½“"),a("code",[t._v("è¿”å›žçš„doneå±žæ€§ä¸ºtrue")]),t._v("æ—¶å°±å¯ä»¥ç¡®å®šå·²ç»æ‰§è¡Œå®Œäº†ï¼Œé€’å½’ä¹Ÿè¯¥ç»“æŸäº†ã€‚")]),t._v(" "),a("p",[t._v("çŸ¥é“äº†ç»ˆæ­¢çš„æ¡ä»¶ä¹‹åŽï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠæ•´ä¸ªé€’å½’ç»“æŸï¼Œç»“åˆä¸Šé¢ðŸ‘†æˆ‘ä»¬å·²ç»è®¾è®¡å¥½çš„æ•´ä½“ç»“æž„ï¼Œè¿™å…¶å®žå¾ˆç®€å•ï¼Œç›´æŽ¥"),a("code",[t._v("return")]),t._v("ä¸€ä¸ª"),a("code",[t._v("resolve()")]),t._v("æˆ–è€…"),a("code",[t._v("reject()")]),t._v("å°±å¯ä»¥åšåˆ°ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»ˆæ­¢æ¡ä»¶æ»¡è¶³æ—¶,ç›´æŽ¥è°ƒç”¨reject()æ¥é€€å‡º, valueä¸ºæœ€ç»ˆçš„å€¼(åŽé¢ä¼šè¯´åˆ°)")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ–è€… return reject(error);")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("OKðŸ‘Œï¼Œç»ˆæ­¢æ¡ä»¶å’Œæ€Žä¹ˆç»ˆæ­¢éƒ½å·²ç»çŸ¥é“äº†ï¼Œè®©æˆ‘ä»¬æŽ¥ç€å¾€ä¸‹çœ‹ã€‚")]),t._v(" "),a("p",[t._v("åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ª"),a("code",[t._v("step")]),t._v("å‡½æ•°ï¼Œç„¶åŽé…åˆ"),a("code",[t._v("Promise.resolve()")]),t._v("æ¥å®žçŽ°å¾ªçŽ¯è°ƒç”¨ï¼Œç±»ä¼¼äºŽè¿™æ ·ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ‰€ä»¥è¿™æ—¶å€™æˆ‘ä»¬å°±å¾—çœ‹çœ‹"),a("code",[t._v("Promise.resolve(value)")]),t._v("ä¸­çš„"),a("code",[t._v("value")]),t._v("æ˜¯å“ªæ¥çš„äº†ï¼Œå®ƒå®žé™…ä¸Šæ˜¯æˆ‘ä»¬åœ¨æ¯æ¬¡è°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("è¿”å›žå€¼ä¸­çš„"),a("code",[t._v("value")]),t._v("ï¼Œå¯¹åº”ç€æ¡ˆä¾‹äºŒçš„ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¹Ÿå°±æ˜¯ getData()çš„è¿”å›žå€¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¹Ÿå°±æ˜¯ Promise{<resolve>, 'data'}")]),t._v("\n")])])]),a("p",[t._v("æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬çš„ä»£ç å°±å˜æˆäº†è¿™æ ·ï¼š")]),t._v(" "),a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("function asyncToGenerator (genFunc) {\n"),a("span",{pre:!0,attrs:{class:"token unchanged"}},[t._v("    return function () {\n")]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t._v("+     const gen = genFunc.apply(this, arguments);\n")]),a("span",{pre:!0,attrs:{class:"token unchanged"}},[t._v("      return new Promise((resolve, reject) => {\n      function step () {\n")]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t._v("+       let generatorResult = gen.next();\n+       const { value, done } = generatorResult;\n+       if (done) {\n+          return resolve(value);\n+       } else {\n")]),a("span",{pre:!0,attrs:{class:"token unchanged"}},[t._v("          return Promise.resolve(value).then(val => {\n             step()\n           })\n")]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t._v("+        }\n")]),a("span",{pre:!0,attrs:{class:"token unchanged"}},[t._v("       }\n      step();\n    })\n  }\n")]),t._v("}\n")])])]),a("p",[t._v("è¿™æ®µä»£ç æˆ‘åŠ ä¸Šäº†ä¸¤ä¸ªåŠŸèƒ½ï¼š")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("const gen = getFunc.apply(this, arguments)")]),t._v("æ¥å®žçŽ°ç±»ä¼¼"),a("code",[t._v("const gen = testG()")]),t._v("è¿™æ ·çš„ä»£ç ï¼Œæ˜¯ä¸ºäº†å…ˆè°ƒç”¨"),a("code",[t._v("generator")]),t._v("å‡½æ•°æ¥ç”Ÿæˆè¿­ä»£å™¨ã€‚")]),t._v(" "),a("li",[t._v("åœ¨"),a("code",[t._v("setp")]),t._v("ä¸­è°ƒç”¨äº†"),a("code",[t._v("gen.next()")]),t._v("ï¼Œå¹¶ä¿å­˜ç»“æžœåˆ°"),a("code",[t._v("generatorResult")]),t._v("ä¸Šï¼ŒåŒæ—¶åˆ¤æ–­ç»ˆæ­¢æ¡ä»¶"),a("code",[t._v("done")]),t._v("ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"_3-ä¼ å€¼ä»¥åŠå¼‚å¸¸å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ä¼ å€¼ä»¥åŠå¼‚å¸¸å¤„ç†"}},[t._v("#")]),t._v(" 3. ä¼ å€¼ä»¥åŠå¼‚å¸¸å¤„ç†")]),t._v(" "),a("p",[t._v("OKðŸ‘Œï¼Œå®Œæˆäº†ä¸Šè¿°æ­¥éª¤åŽï¼Œæ˜¾ç„¶è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è‡³å°‘è¿˜æœ‰ä¸¤ç‚¹æ²¡æœ‰è€ƒè™‘åˆ°ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ²¡æœ‰æŠŠè°ƒç”¨"),a("code",[t._v("gen.next()")]),t._v("çš„ç»“æžœä¼ é€’ç»™åŽé¢çš„"),a("code",[t._v("gen.next()")])]),t._v(" "),a("li",[t._v("æ²¡æœ‰å¯¹å¼‚å¸¸æƒ…å†µä½œå¤„ç†")])]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œå‰é¢ä¹Ÿæåˆ°äº†ï¼Œ"),a("code",[t._v("next()")]),t._v("å’Œ"),a("code",[t._v("throw()")]),t._v("è°ƒç”¨æ—¶çš„è¿”å›žå€¼éƒ½æ˜¯è¿™æ ·çš„æ ¼å¼ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å°±å¯ä»¥æŠŠè¿™ä¸¤ä¸ªæ–¹æ³•åå½“æˆä¸€ä¸ªå‚æ•°ä¼ é€’åˆ°ä¸‹ä¸€ä¸ª"),a("code",[t._v("step")]),t._v("ä¸­å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("è€Œæ¯æ¬¡"),a("code",[t._v("Promise.resolve(value)")]),t._v("è¿™é‡Œçš„ç»“æžœæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒå½“æˆå‚æ•°ä¼ é€’åˆ°ä¸‹ä¸€ä¸ª"),a("code",[t._v("step")]),t._v("ä¸­ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥çŽ°åœ¨å†è®©æˆ‘ä»¬æ¥çœ‹çœ‹æœ€ç»ˆçš„ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("genFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generatorResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          generatorResult "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generatorResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"next"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"throw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"next"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncToGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ–°åŠ çš„ä»£ç ä¸»è¦åšäº†è¿™ä¹ˆå‡ ä»¶äº‹ï¼š")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("step")]),t._v("å‡½æ•°å¢žåŠ ä¸¤ä¸ªå­—æ®µï¼š"),a("code",[t._v("key")]),t._v("ä¸ºæ–¹æ³•å("),a("code",[t._v("next")]),t._v("æˆ–è€…"),a("code",[t._v("throw")]),t._v(")ï¼›"),a("code",[t._v("arg")]),t._v("ä¸ºä¸Šä¸€æ¬¡"),a("code",[t._v("gen[key]()")]),t._v("çš„")]),t._v(" "),a("li",[t._v("ä½¿ç”¨"),a("code",[t._v("try/catch")]),t._v("æ¥æ•èŽ·æ‰§è¡Œ"),a("code",[t._v("gen[key](arg)")]),t._v("æ—¶çš„å¼‚å¸¸")]),t._v(" "),a("li",[a("code",[t._v(".then()")]),t._v("ä¸­å¢žåŠ ç¬¬äºŒä¸ªå‚æ•°æ¥æ•èŽ·å¼‚å¸¸")])]),t._v(" "),a("p",[t._v("è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ"),a("code",[t._v("Promise.resolve(value)")]),t._v("ä¸­çš„"),a("code",[t._v("value")]),t._v("å®ƒæ˜¯ä¸€ä¸ª"),a("code",[t._v("Promise")]),t._v("ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ¥çœ‹çœ‹"),a("code",[t._v("generatorResult")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("resolve"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¯¹åº”ç€æ¡ˆä¾‹äºŒï¼Œå…¶å®žä¹Ÿå°±æ˜¯"),a("code",[t._v("yield getData()")]),t._v("è¿™æ®µè¯­å¥ä¸­"),a("code",[t._v("getData()")]),t._v("è¿”å›žçš„é‚£ä¸ª"),a("code",[t._v("Promise")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("è€Œä¸‹ä¸€ä¸ª"),a("code",[t._v('step("next")')]),t._v("å¿…é¡»ç­‰"),a("code",[t._v("value")]),t._v("è¿™ä¸ª"),a("code",[t._v("Promise")]),t._v("è¢«"),a("code",[t._v("resolve")]),t._v("çš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒæ–‡ç« "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡ç« "}},[t._v("#")]),t._v(" å‚è€ƒæ–‡ç« ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5e79e841f265da5726612b6e",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ‰‹å†™async awaitçš„æœ€ç®€å®žçŽ°ï¼ˆ20è¡Œï¼‰"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5dc28ea66fb9a04a881d1ac0",target:"_blank",rel:"noopener noreferrer"}},[t._v("async/await åŽŸç†åŠæ‰§è¡Œé¡ºåºåˆ†æž"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"åŽè¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŽè¯­"}},[t._v("#")]),t._v(" åŽè¯­")]),t._v(" "),a("p",[t._v("ä½ ç›¼ä¸–ç•Œï¼Œæˆ‘ç›¼æœ›ä½ æ— "),a("code",[t._v("bug")]),t._v("ã€‚è¿™ç¯‡æ–‡ç« å°±ä»‹ç»åˆ°è¿™é‡Œã€‚")]),t._v(" "),a("p",[t._v("OKðŸ‘Œï¼Œæƒ…å†µå°±æ˜¯è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼Œåœ¨æˆ‘ä»¬å¼„æ‡‚è¿™ä¸€æ­¥ä¸€æ­¥çš„åŽŸç†ä¹‹åŽå†æ¥è®°å°±ä¸éš¾äº† ðŸ˜„ã€‚")]),t._v(" "),a("p",[t._v("å–œæ¬¢"),a("strong",[t._v("éœ–å‘†å‘†")]),t._v("çš„å°ä¼™è¿˜å¸Œæœ›å¯ä»¥å…³æ³¨éœ–å‘†å‘†çš„å…¬ä¼—å· "),a("code",[t._v("LinDaiDai")]),t._v(" æˆ–è€…æ‰«ä¸€æ‰«ä¸‹é¢çš„äºŒç»´ç ðŸ‘‡ðŸ‘‡ðŸ‘‡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/5/11/17201c26b891ea7c?w=900&h=500&f=gif&s=1632550",alt:""}})]),t._v(" "),a("p",[t._v("æˆ‘ä¼šä¸å®šæ—¶çš„æ›´æ–°ä¸€äº›å‰ç«¯æ–¹é¢çš„çŸ¥è¯†å†…å®¹ä»¥åŠè‡ªå·±çš„åŽŸåˆ›æ–‡ç« ðŸŽ‰")]),t._v(" "),a("p",[t._v("ä½ çš„é¼“åŠ±å°±æ˜¯æˆ‘æŒç»­åˆ›ä½œçš„ä¸»è¦åŠ¨åŠ› ðŸ˜Š.")]),t._v(" "),a("p",[t._v("ç›¸å…³æŽ¨è:")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5def372af265da33c84a4818",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šå…¨ç½‘æœ€è¯¦bpmn.jsæ•™æã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5e477139f265da574c566dda",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šã€å»ºè®®æ”¹æˆã€‘è¯»å®Œè¿™ç¯‡ä½ è¿˜ä¸æ‡‚Babelæˆ‘ç»™ä½ å¯„å£ç½©ã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5e58c618e51d4526ed66b5cf",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šã€å»ºè®®æ˜Ÿæ˜Ÿã€‘è¦å°±æ¥45é“Promiseé¢è¯•é¢˜ä¸€æ¬¡çˆ½åˆ°åº•(1.1wå­—ç”¨å¿ƒæ•´ç†)ã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5e6358256fb9a07cd80f2e70",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šã€å»ºè®®ðŸ‘ã€‘å†æ¥40é“thisé¢è¯•é¢˜é…¸çˆ½ç»§ç»­(1.2wå­—ç”¨æ‰‹æ•´ç†)ã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5e707417e51d45272054d5d3",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šã€ä½•ä¸ä¸‰è¿žã€‘æ¯”ç»§æ‰¿å®¶ä¸šè¿˜è¦ç®€å•çš„JSç»§æ‰¿é¢˜-å°è£…ç¯‡(ç‰›åˆ€å°è¯•)ã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5e75e22951882549027687f9",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šã€ä½•ä¸ä¸‰è¿žã€‘åšå®Œè¿™48é“é¢˜å½»åº•å¼„æ‡‚JSç»§æ‰¿(1.7wå­—å«è¾›æ•´ç†-è¿”ç’žå½’çœŸ)ã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5d89b2a7f265da03dd3db2ca",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šã€ç²¾ã€‘ä»Ž206ä¸ªconsole.log()å®Œå…¨å¼„æ‡‚æ•°æ®ç±»åž‹è½¬æ¢çš„å‰ä¸–ä»Šç”Ÿ(ä¸Š)ã€‹"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5eb55ceb6fb9a0436748297d",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šéœ–å‘†å‘†çš„è¿‘æœŸé¢è¯•128é¢˜æ±‡æ€»(å«è¶…è¯¦ç»†ç­”æ¡ˆ) | æŽ˜é‡‘æŠ€æœ¯å¾æ–‡ã€‹"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);