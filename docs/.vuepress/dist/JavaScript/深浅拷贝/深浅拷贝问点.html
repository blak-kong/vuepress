<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹ | å‰ç«¯æŠ€æœ¯æ–‡æ¡£</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="æ‰‹å†™æºç ç³»åˆ—ï¼æ·±å…¥ç³»åˆ—ï¼">
    <link rel="preload" href="/assets/css/0.styles.65949c32.css" as="style"><link rel="preload" href="/assets/js/app.2c275fa9.js" as="script"><link rel="preload" href="/assets/js/2.02e5b305.js" as="script"><link rel="preload" href="/assets/js/43.cdda8eac.js" as="script"><link rel="prefetch" href="/assets/js/10.5f6d1531.js"><link rel="prefetch" href="/assets/js/11.723820f4.js"><link rel="prefetch" href="/assets/js/12.25ca14c5.js"><link rel="prefetch" href="/assets/js/13.9e289f38.js"><link rel="prefetch" href="/assets/js/14.4c8df560.js"><link rel="prefetch" href="/assets/js/15.fe7e9c43.js"><link rel="prefetch" href="/assets/js/16.f1399d2f.js"><link rel="prefetch" href="/assets/js/17.c13ade3c.js"><link rel="prefetch" href="/assets/js/18.afbf4399.js"><link rel="prefetch" href="/assets/js/19.be55252a.js"><link rel="prefetch" href="/assets/js/20.51047aa3.js"><link rel="prefetch" href="/assets/js/21.96e9ac0d.js"><link rel="prefetch" href="/assets/js/22.d9c21f70.js"><link rel="prefetch" href="/assets/js/23.4dd7a644.js"><link rel="prefetch" href="/assets/js/24.6a1ff945.js"><link rel="prefetch" href="/assets/js/25.1eb39695.js"><link rel="prefetch" href="/assets/js/26.98e403e3.js"><link rel="prefetch" href="/assets/js/27.9cad1539.js"><link rel="prefetch" href="/assets/js/28.3aa82625.js"><link rel="prefetch" href="/assets/js/29.251bb38e.js"><link rel="prefetch" href="/assets/js/3.2bb8a527.js"><link rel="prefetch" href="/assets/js/30.267b8aa1.js"><link rel="prefetch" href="/assets/js/31.dcf64e57.js"><link rel="prefetch" href="/assets/js/32.b1779261.js"><link rel="prefetch" href="/assets/js/33.aa283bf9.js"><link rel="prefetch" href="/assets/js/34.c5b5d21a.js"><link rel="prefetch" href="/assets/js/35.f3731ac4.js"><link rel="prefetch" href="/assets/js/36.8fe39644.js"><link rel="prefetch" href="/assets/js/37.57596a4b.js"><link rel="prefetch" href="/assets/js/38.bfbe59a0.js"><link rel="prefetch" href="/assets/js/39.1a322c48.js"><link rel="prefetch" href="/assets/js/4.636b0ad8.js"><link rel="prefetch" href="/assets/js/40.b4073e00.js"><link rel="prefetch" href="/assets/js/41.7d2e6772.js"><link rel="prefetch" href="/assets/js/42.68921a1b.js"><link rel="prefetch" href="/assets/js/44.905bf74c.js"><link rel="prefetch" href="/assets/js/45.d0254f87.js"><link rel="prefetch" href="/assets/js/46.10d8a83e.js"><link rel="prefetch" href="/assets/js/47.05ce2bb0.js"><link rel="prefetch" href="/assets/js/48.7aae21a7.js"><link rel="prefetch" href="/assets/js/49.ce84a989.js"><link rel="prefetch" href="/assets/js/5.a7c985c9.js"><link rel="prefetch" href="/assets/js/50.1af6d4a5.js"><link rel="prefetch" href="/assets/js/51.99b7df16.js"><link rel="prefetch" href="/assets/js/6.d38aeac2.js"><link rel="prefetch" href="/assets/js/7.dadda87f.js"><link rel="prefetch" href="/assets/js/8.84abf3a9.js"><link rel="prefetch" href="/assets/js/9.7eb675cd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65949c32.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å‰ç«¯æŠ€æœ¯æ–‡æ¡£</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="javascript" class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/JavaScriptè¿è¡Œæœºåˆ¶/01-javascriptå¼•æ“.html" class="nav-link">
  JavaScriptè¿è¡Œæœºåˆ¶
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/å‡½æ•°/01-JavaScriptä¸­çš„ä¸‰ç§å‡½æ•°.html" class="nav-link">
  å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/å‡½æ•°å¼ç¼–ç¨‹/01-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹.html" class="nav-link">
  å‡½æ•°å¼ç¼–ç¨‹
</a></li><li class="dropdown-item"><!----> <a href="/javascript/æ‰‹å†™api/01-Promise.html" class="nav-link">
  æ‰‹å†™api
</a></li><li class="dropdown-item"><!----> <a href="/javascript/ES6+/01-let å’Œ const.html" class="nav-link">
  ES6+
</a></li><li class="dropdown-item"><!----> <a href="/æ„å»ºå·¥å…·/01-Gulp.html" class="nav-link">
  æ„å»ºå·¥å…·
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ„å»ºå·¥å…·" class="dropdown-title"><span class="title">æ„å»ºå·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/javascript/gulp.html" class="nav-link">
  gulp
</a></li></ul></div></div><div class="nav-item"><a href="https://www.lzwlook.fun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="javascript" class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/JavaScriptè¿è¡Œæœºåˆ¶/01-javascriptå¼•æ“.html" class="nav-link">
  JavaScriptè¿è¡Œæœºåˆ¶
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/å‡½æ•°/01-JavaScriptä¸­çš„ä¸‰ç§å‡½æ•°.html" class="nav-link">
  å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/å‡½æ•°å¼ç¼–ç¨‹/01-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹.html" class="nav-link">
  å‡½æ•°å¼ç¼–ç¨‹
</a></li><li class="dropdown-item"><!----> <a href="/javascript/æ‰‹å†™api/01-Promise.html" class="nav-link">
  æ‰‹å†™api
</a></li><li class="dropdown-item"><!----> <a href="/javascript/ES6+/01-let å’Œ const.html" class="nav-link">
  ES6+
</a></li><li class="dropdown-item"><!----> <a href="/æ„å»ºå·¥å…·/01-Gulp.html" class="nav-link">
  æ„å»ºå·¥å…·
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ„å»ºå·¥å…·" class="dropdown-title"><span class="title">æ„å»ºå·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/javascript/gulp.html" class="nav-link">
  gulp
</a></li></ul></div></div><div class="nav-item"><a href="https://www.lzwlook.fun" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>æ·±æµ…æ‹·è´</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaScript/æ·±æµ…æ‹·è´/æ·±æµ…æ‹·è´é—®ç‚¹.html" class="active sidebar-link">å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/æ·±æµ…æ‹·è´/æ·±æµ…æ‹·è´é—®ç‚¹.html#å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹" class="sidebar-link">å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹"><a href="#å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹" class="header-anchor">#</a> å‰é¢ç³»åˆ—-æ·±æµ…æ‹·è´é—®ç‚¹</h2> <h3 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h3> <p><strong>å‰é¢ç³»åˆ—</strong>å³ä¸º<strong>å‰ç«¯é¢è¯•ç³»åˆ—</strong>(Front-end interview series), ä¸»è¦å†…å®¹æ˜¯ä¸€äº›å‰ç«¯é¢è¯•ä¸­ç»å¸¸è¢«é—®åˆ°çš„é¢˜.</p> <p>ç³»åˆ—é—®ç­”ä¸­æ²¡æœ‰ç¹ççš„è®²è§£è¿‡ç¨‹, åŠ›æ±‚ä¿è¯é¢è¯•è€…ç»™äºˆé¢è¯•å®˜ä¸€ä¸ª<strong>ç®€æ´ã€å…·æœ‰é‡ç‚¹çš„ç­”æ¡ˆ</strong>, æ‰€ä»¥é€‚åˆäºæœ‰ä¸€å®šçŸ¥è¯†åŸºç¡€çš„å‰ç«¯ç«¥é‹ğŸ‘¨â€ğŸ“. å½“ç„¶, åœ¨æ¯é¢˜çš„æœ€åæˆ‘ä¹Ÿä¼šè´´ä¸Šå…³äºè¿™ä¸€ç« èŠ‚æ¯”è¾ƒå¥½æ–‡ç« , ä»¥ä¾›å¤§å®¶æ›´å¥½çš„ç†è§£æ‰€æåˆ°çš„çŸ¥è¯†ç‚¹.</p> <p>è¯·è®¤å‡†githubåœ°å€: <a href="https://github.com/LinDaiDai/niubility-coding-js" target="_blank" rel="noopener noreferrer">niubility-coding-js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="ä¸€ã€é¢è¯•éƒ¨åˆ†"><a href="#ä¸€ã€é¢è¯•éƒ¨åˆ†" class="header-anchor">#</a> ä¸€ã€é¢è¯•éƒ¨åˆ†</h3> <h4 id="_1-æœ‰å“ªäº›å±äºæµ…æ‹·è´-ğŸ¤”ï¸"><a href="#_1-æœ‰å“ªäº›å±äºæµ…æ‹·è´-ğŸ¤”ï¸" class="header-anchor">#</a> 1. æœ‰å“ªäº›å±äºæµ…æ‹·è´ ğŸ¤”ï¸?</h4> <ol><li><code>Object.assign()</code>æ–¹æ³•</li> <li>å±•å¼€ç®—æ³•<code>Spread</code> (<code>{...obj}</code>)</li> <li>æ“ä½œæ•°ç»„çš„æ–¹æ³•<code>slice()ã€concat()</code></li></ol> <h4 id="_2-æœ‰å“ªäº›æ·±æ‹·è´çš„æ–¹å¼-ğŸ¤”ï¸"><a href="#_2-æœ‰å“ªäº›æ·±æ‹·è´çš„æ–¹å¼-ğŸ¤”ï¸" class="header-anchor">#</a> 2. æœ‰å“ªäº›æ·±æ‹·è´çš„æ–¹å¼ ğŸ¤”ï¸?</h4> <ol><li>æ¯”è¾ƒæµæ°“å¼çš„æ–¹å¼: <code>JSON.parse(JSON.stringify(object))</code></li> <li>è‡ªå·±å®ç°ä¸€ä¸ªæ·±æ‹·è´çš„æ–¹æ³•</li> <li>ä½¿ç”¨ä¸€äº›å·¥å…·åº“é‡Œçš„æ–¹æ³•, æ¯”å¦‚<code>lodash</code>é‡Œçš„<code>cloneDeep()</code>, <code>jquery</code>é‡Œçš„<code>extend()</code>.</li></ol> <h4 id="_3-json-parse-json-stringify-object-çš„ç¼ºç‚¹"><a href="#_3-json-parse-json-stringify-object-çš„ç¼ºç‚¹" class="header-anchor">#</a> 3. JSON.parse(JSON.stringify(object))çš„ç¼ºç‚¹</h4> <ol><li>ä¼šå¿½ç•¥å±æ€§å€¼ä¸º<code>undefined</code>ã€<code>symbol</code>ã€å‡½æ•°çš„è¿™ä¸‰ç§æƒ…å†µ, ä¹Ÿå°±æ˜¯ä¸è¿›è¡Œæ‹·è´</li> <li>ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</li> <li>ä¸èƒ½æ­£ç¡®çš„å¤„ç†<code>new Date</code></li> <li>ä¸èƒ½å¤„ç†æ­£åˆ™(ä¸ºæ­£åˆ™çš„æ—¶å€™, æ‹·è´è¿‡å»ä¸ºä¸€ä¸ªç©ºå¯¹è±¡<code>{}</code>)</li></ol> <h3 id="äºŒã€ç¬”è¯•éƒ¨åˆ†"><a href="#äºŒã€ç¬”è¯•éƒ¨åˆ†" class="header-anchor">#</a> äºŒã€ç¬”è¯•éƒ¨åˆ†</h3> <h4 id="_1-æ‰‹å†™ä¸€ä¸ªobject-assign-å‡½æ•°å®ç°"><a href="#_1-æ‰‹å†™ä¸€ä¸ªobject-assign-å‡½æ•°å®ç°" class="header-anchor">#</a> 1. æ‰‹å†™ä¸€ä¸ª<code>Object.assign()</code>å‡½æ•°å®ç°</h4> <p><strong>æ€è·¯:</strong></p> <ol><li>åˆ¤æ–­åŸç”Ÿ<code>Object</code>æ˜¯å¦æ”¯æŒ<code>assign</code>, è‹¥æ˜¯ä¸å­˜åœ¨çš„è¯åˆ™ä½¿ç”¨<code>Object.defineProperty</code>æ–¹æ³•å°†è¯¥å‡½æ•°ç»‘å®šåˆ°<code>Object</code> ä¸­</li> <li>åˆ¤æ–­ä¼ å…¥çš„ç›®æ ‡å‚æ•°æ˜¯å¦æ­£ç¡®, æ˜¯å¦ä¸º<code>null</code></li> <li>ä½¿ç”¨<code>Object()</code>å°†ç›®æ ‡å‚æ•°è½¬ä¸ºå¯¹è±¡, å¹¶ä¿å­˜ä¸º<code>to</code>, æœ€ç»ˆè¦è¿”å›è¿™ä¸ª<code>to</code></li> <li>ä½¿ç”¨ <code>for..in</code> å¾ªç¯éå†å‡ºæ‰€æœ‰å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ã€‚å¹¶å¤åˆ¶ç»™æ–°çš„ç›®æ ‡å¯¹è±¡ï¼ˆä½¿ç”¨ <code>hasOwnProperty</code> è·å–è‡ªæœ‰å±æ€§ï¼Œå³éåŸå‹é“¾ä¸Šçš„å±æ€§ï¼‰</li> <li>åœ¨è®¾è®¡çš„æ—¶å€™éœ€è¦åœ¨è®©è¯¥æ–¹æ³•åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿›è¡Œ</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createAssign2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Object<span class="token punctuation">.</span>assign2 <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token string">'assign2'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot convert undefined or null to object&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> to <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> nextSource <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> nextKey <span class="token keyword">in</span> nextSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nextSource<span class="token punctuation">,</span> nextKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              to<span class="token punctuation">[</span>nextKey<span class="token punctuation">]</span> <span class="token operator">=</span> nextSource<span class="token punctuation">[</span>nextKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> to<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      configurable<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">createAssign2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <hr> <hr> <p>ç©º</p> <p>ç™½</p> <p>æ ¼</p> <hr> <hr> <hr> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createAssign2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. åˆ¤æ–­æ˜¯å¦å­˜åœ¨assign2</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Object<span class="token punctuation">.</span>assign2 <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2. ç»™ Object ä¸­æ·»åŠ å±æ€§</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token string">'assign2'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 4. å¼€å¯ä¸¥æ ¼æ¨¡å¼</span>
                <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
                <span class="token comment">// 5. åˆ¤æ–­ç›®æ ‡å¯¹è±¡æ˜¯å¦ä¸º null</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot convert undefined or null to object&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 6. ä½¿ç”¨ Object() åŒ…è£¹</span>
                <span class="token keyword">var</span> to <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 7. éå†åé¢ä¼ å…¥çš„æ‰€æœ‰å¯¹è±¡</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">var</span> nextSource <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token comment">// 8. ä½¿ç”¨ for...in æŸ¥æ‰¾æ‰€æœ‰çš„å±æ€§(åŒ…æ‹¬åŸå‹é“¾ä¸­çš„å±æ€§)</span>
                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> nextKey <span class="token keyword">in</span> nextSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 9. åªè€ƒè™‘è‡ªèº«çš„å±æ€§</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nextSource<span class="token punctuation">,</span> nextKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            to<span class="token punctuation">[</span>nextKey<span class="token punctuation">]</span> <span class="token operator">=</span> nextSource<span class="token punctuation">[</span>nextKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 10. è¿”å›to</span>
                <span class="token keyword">return</span> to<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            configurable<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">createAssign2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>æ³¨</strong>:</p> <ol><li>ä¸ºä»€ä¹ˆè¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ ğŸ¤”ï¸?</li></ol> <p>é‚£æ˜¯å› ä¸ºä½¿ç”¨åŸç”Ÿçš„<code>Object.assign()</code>æ—¶, è‹¥æ˜¯æœ‰ä»¥ä¸‹æƒ…å†µ:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token string">'456'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'LinDaiDai'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">var</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'4'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ğŸ‘†ä¸¤ç§æƒ…å†µéƒ½ä¼šæŠ¥é”™:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Cannot assign to read only property <span class="token string">'0'</span> <span class="token keyword">of</span> object <span class="token string">'[object String]'</span>
</code></pre></div><p>ä½†å¦‚æœæ˜¯ä¸‹é¢ğŸ‘‡çš„æƒ…å†µå°±ä¸ä¼š:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Number{0:&quot;4&quot;, 1:&quot;5&quot;, 2:&quot;6&quot; }</span>
<span class="token comment">// or</span>
<span class="token keyword">var</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span> <span class="token comment">// String{0: &quot;1&quot;, 1: &quot;2&quot;, 2: &quot;3&quot;}</span>
</code></pre></div><p>çœ‹å‡ºä»€ä¹ˆäº†å—? ğŸ˜Š</p> <p>å¦‚æœå‚æ•°ä¸­åŒæ—¶å­˜åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸², æ¯”å¦‚<code>&quot;123&quot;å’Œ&quot;456&quot;</code>å°±ä¼šæŠ¥é”™, æˆ–è€…å­˜åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå¸¦æœ‰<code>0</code>å±æ€§çš„å¯¹è±¡, ä¹Ÿä¼šæŠ¥é”™.</p> <p>é‚£æ˜¯å› ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®çš„<strong>å¯å†™å±æ€§writable</strong>æ˜¯<code>false</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { </span>
<span class="token comment">//   value: 'a',</span>
<span class="token comment">//   writable: false, // å¯å†™å±æ€§</span>
<span class="token comment">//   enumerable: true,</span>
<span class="token comment">//   configurable: false </span>
<span class="token comment">// }</span>
</code></pre></div><p>è€Œå¹³å¸¸æˆ‘ä»¬ä½¿ç”¨<strong>ä¸‹æ ‡ä¿®æ”¹</strong>çš„æ–¹å¼ç›´æ¥ä¿®æ”¹æ˜¯<strong>ä¸ä¼šæŠ¥é”™çš„</strong>, åªä¼š<strong>ä¿®æ”¹ä¸æˆåŠŸ</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;a&quot; è¿˜æ˜¯&quot;a&quot;, è¯æ˜æ²¡æœ‰ä¿®æ”¹æˆåŠŸ</span>
</code></pre></div><p>ä½†æ˜¯åœ¨<strong>ä¸¥æ ¼æ¨¡å¼</strong>ä¸‹å°±ä¼š<strong>æŠ¥é”™</strong>äº†:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// Cannot assign to read only property '0' of object '[object String]'</span>
</code></pre></div><p>æ¢å¥è¯è¯´: åœ¨<strong>ä¸¥æ ¼æ¨¡å¼ä¸‹</strong>, å¦‚æœä½ è¯•å›¾ä¿®æ”¹ä¸€ä¸ª<code>writable: false</code>çš„å±æ€§çš„æ—¶å€™å°±ä¼šæŠ¥é”™.</p> <p>æ‰€ä»¥è‹¥æ˜¯<code>assign()</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„æ•°æ®ç±»å‹æ˜¯<strong>éç©ºçš„å­—ç¬¦ä¸²</strong>, è€Œåé¢ä¹Ÿæœ‰<strong>éç©ºçš„å­—ç¬¦ä¸²</strong>æˆ–è€…<strong>å¸¦æœ‰<code>0</code>å±æ€§çš„å¯¹è±¡</strong>æ—¶, å°±ä¼šæŠ¥é”™, å› æ­¤æˆ‘ä»¬åœ¨è®¾è®¡<code>assign2</code>çš„æ—¶å€™, éœ€è¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿›è¡Œ.</p> <ol start="2"><li>ä¸ºä»€ä¹ˆéœ€è¦æœ‰<code>var to = Object(target)</code>è¿™ä¸€æ­¥ ğŸ¤”ï¸?</li></ol> <p>å› ä¸ºå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°<code>target</code>ä¸ºåŸºæœ¬æ•°æ®ç±»å‹(<code>stringã€numberã€symbol</code>)æ—¶, éœ€è¦å°†å…¶åŒ…è£…ä¸ºå¯¹è±¡, å¦‚æœæ²¡æœ‰<code>Object(target)</code>è¿™ä¸€æ­¥çš„è¯, å°±ä¼šæŠ¥é”™äº†:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Uncaught TypeError<span class="token operator">:</span> Cannot create property <span class="token string">'obj'</span> on string <span class="token string">'123'</span>
</code></pre></div><p>è€Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿™ç§åŸºæœ¬æ•°æ®ç±»å‹çš„æ—¶å€™, ç”Ÿæˆçš„å¯¹è±¡ä¼šæ˜¯è¿™æ ·:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;LinDaiDai&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// String{ 0: &quot;1&quot;, 1: &quot;2&quot;, 2: &quot;3&quot;, name: &quot;LinDaiDai&quot;}</span>
</code></pre></div><p>å‰é¢çš„<code>String</code>è¡¨ç¤ºæ–°ç”Ÿæˆçš„å¯¹è±¡çš„<code>__proto__</code>ä¸º<code>String</code>å¯¹è±¡(è€Œé<code>Object</code>å¯¹è±¡), è€Œä¸”å…¶ä¸­æœ‰ä¸€ä¸ªåä¸º<code>[[PrimitiveValue]]</code>çš„å±æ€§ä¸º<code>&quot;123&quot;</code>.</p> <p><strong>æµ‹è¯•ä»£ç ï¼š</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">createAssign2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'obj'</span><span class="token punctuation">,</span>
  colors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'white'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign2</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> <span class="token punctuation">{</span> sex<span class="token operator">:</span> <span class="token string">'boy'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'obj2'</span>
obj2<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// { name: 'obj', colors: ['white', 'black', 'yellow'], sex: 'boy' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token comment">// { name: 'obj2', colors: ['white', 'black', 'yellow'], sex: 'boy' }</span>
</code></pre></div><h4 id="_2-æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•"><a href="#_2-æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•" class="header-anchor">#</a> 2. æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•</h4> <p><strong>æ€è·¯</strong>:</p> <ol><li>å¯¹ä¼ å…¥çš„å‚æ•°åšæ ¡éªŒ, ä¸æ˜¯å¯¹è±¡ç±»å‹åˆ™è¿”å›å‚æ•°æœ¬èº«</li> <li>æ ¡éªŒçš„æ–¹å¼, å¯ä»¥ä½¿ç”¨<code>Object.prototype.toString.call(obj)</code>çš„æ–¹å¼æ¥åˆ¤æ–­</li> <li>éœ€è¦è€ƒè™‘æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡</li> <li>éœ€è¦è€ƒè™‘å¾ªç¯å¼•ç”¨é—®é¢˜(å¯ä»¥ç”¨<code>WeakMap</code>æˆ–è€…æ•°ç»„æ¥è§£å†³)</li> <li>éœ€è¦åˆ¤æ–­æ¯ä¸€ä¸ªå±æ€§çš„ç±»å‹, è‹¥æ˜¯<code>Object</code>å’Œ<code>Array</code>çš„æ—¶å€™, è¦è¿›è¡Œé€’å½’å¤„ç†</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isObject</span> <span class="token punctuation">(</span><span class="token parameter">object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> type <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> type <span class="token operator">===</span> <span class="token string">'Object'</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token string">'Array'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">function</span> <span class="token function">cloneDeep</span> <span class="token punctuation">(</span>source<span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> source
	<span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">var</span> target <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>source<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span>source<span class="token punctuation">}</span><span class="token punctuation">;</span>
  hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <hr> <hr> <p>ç©º</p> <p>ç™½</p> <p>æ ¼</p> <hr> <hr> <hr> <p><strong>è¿‡ç¨‹åˆ†æ</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// åˆ¤æ–­ç±»å‹æ˜¯ä¸æ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„</span>
<span class="token keyword">function</span> <span class="token function">isObject</span><span class="token punctuation">(</span><span class="token parameter">object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> type <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> type <span class="token operator">===</span> <span class="token string">'Object'</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token string">'Array'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. åˆ¤æ–­ä¸æ˜¯æ•°ç»„æˆ–è€…å¯¹è±¡çš„æ—¶å€™åˆ™è¿”å›å…¶æœ¬èº«</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> source
    <span class="token comment">// 2. é€šè¿‡WeakMapè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>source<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span>source<span class="token punctuation">}</span><span class="token punctuation">;</span>
    hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. åˆ©ç”¨`Reflect.ownKeys()`è·å–targetæœ¬èº«çš„å±æ€§(éåŸå‹é“¾ä¸Šçš„å±æ€§), ä¸”åŒ…å«äº†symbolç±»å‹çš„å±æ€§</span>
    Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 5. å†æ¬¡åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹è±¡ç±»å‹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 6. è¿”å›target</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>æµ‹è¯•ä»£ç </strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    c<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">d</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    e<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    f<span class="token operator">:</span> <span class="token regex">/^123/</span><span class="token punctuation">,</span>
    g<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'objName'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;localH&quot;</span><span class="token punctuation">;</span> <span class="token comment">// symbolç±»å‹</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> obj<span class="token punctuation">.</span>g<span class="token punctuation">;</span> <span class="token comment">// å¾ªç¯å¼•ç”¨</span>
obj<span class="token punctuation">.</span>g<span class="token punctuation">.</span>sex <span class="token operator">=</span> obj<span class="token punctuation">.</span>a

<span class="token keyword">var</span> newObj <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>g<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'modifyName'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>
</code></pre></div><p><strong>æ³¨</strong>:</p> <ol><li>ä¸ºä»€ä¹ˆåˆ¤æ–­æ˜¯å¦æ˜¯å¯¹è±¡éœ€è¦è¿™æ ·å†™ ğŸ¤”ï¸?</li></ol> <p>è¿™é‡Œæˆ‘åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹è±¡æ˜¯é€šè¿‡<code>Object.prototype.toString.call(object)</code>çš„æ–¹å¼,</p> <p>æˆ‘çœ‹æœ‰äº›æ•™ææ˜¯é‡‡ç”¨:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isObject</span> <span class="token punctuation">(</span><span class="token parameter">object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">typeof</span> object <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> object <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½†æ˜¯å¦‚æœå±æ€§å€¼æ˜¯<code>Dateã€RegExp</code>çš„æ—¶å€™, ä¹Ÿä¼šè¢«åˆ¤æ–­ä¸º<code>true</code>äº†, è¿™æ ·å°±èµ°äº†é€’å½’è·¯çº¿, å¯¼è‡´è¿™ç§ç±»å‹çš„å€¼æ‹·è´å¤±è´¥...</p> <ol start="2"><li>ä¸ºä»€ä¹ˆéå†å±æ€§è¦è¿™æ ·å†™ ğŸ¤”ï¸?</li></ol> <p>è¿™é‡Œæˆ‘éå†å±æ€§çš„æ–¹å¼æ˜¯:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>é‡‡ç”¨æ­¤æ–¹å¼çš„ä¼˜ç‚¹æ˜¯:</p> <ul><li>åªéå†å…ƒç´ è‡ªèº«çš„å±æ€§, ä¸ä¼šéå†åŸå‹é“¾ä¸Šçš„</li> <li>å¯ä»¥éå†å‡ºç±»å‹ä¸º<code>symbol</code>ç±»å‹çš„å±æ€§</li> <li>å®ƒä¸<code>Object.keys()</code>ç›¸ä¼¼, ä½†æ˜¯å®ƒä¸ä¼šå—<code>enumerable</code>å½±å“</li></ul> <ol start="3"><li>ä½¿ç”¨<code>for...in...</code>éå†å±æ€§æœ‰ä»€ä¹ˆé—®é¢˜ ğŸ¤”ï¸?</li></ol> <p>é‡‡ç”¨<code>for...in...</code>çš„å½¢å¼çš„è¯å…¶å®ä¹Ÿå¯ä»¥, ä¸è¿‡ä½ å¾—å¤šåšå‡ ä¸ªå¤„ç†äº†, å› ä¸º<code>for...in...</code>çš„å½¢å¼æœ‰ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜:</p> <ul><li>ä¼šæŠŠåŸå‹é“¾ä¸Šçš„å±æ€§ä¹Ÿéå†å‡ºæ¥, å› æ­¤ä½ å¾—è¿™æ ·åˆ¤æ–­:</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡Œå°±è¿‡æ»¤æ‰äº†åŸå‹é“¾ä¸Šçš„å±æ€§</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>éå†ä¸äº†<code>symbol</code>ç±»å‹çš„å±æ€§</li></ul> <p>å¦‚æœä½ æƒ³è¦è·å–ç±»å‹ä¸º<code>symbol</code>çš„å±æ€§å¯ä»¥é‡‡ç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;localH&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Symbol(h)]</span>
</code></pre></div><p>è€Œæˆ‘è¿™é‡Œç”¨çš„<code>Reflect.ownKeys()</code>çš„æ–¹æ³•å…¶å®å°±ç­‰åŒäºä¸‹é¢ğŸ‘‡çš„å†™æ³•:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶å…¼å®¹çš„å†™æ³•å°±æ˜¯:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// è¿™é‡Œè·å–åˆ°äº†æ‰€æœ‰symbolç±»å‹çš„å±æ€§</span>
<span class="token keyword">var</span> symbolKeys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>symbolKeys<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	symBolKeys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>symKey <span class="token operator">=</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>symKey<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			target<span class="token punctuation">[</span>symKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>symKey<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			target<span class="token punctuation">[</span>symKey<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>symKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä¸‹é¢è¿™ä¸ª for...in... æ˜¯éå†ésymbolç±»å‹çš„å±æ€§</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·å…¶å®ä¹Ÿå¯ä»¥, ä¸è¿‡æ„Ÿè§‰æ²¡æœ‰å¿…è¦...</p> <p><strong>æµ‹è¯•ä»£ç ï¼š</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'obj'</span><span class="token punctuation">,</span>
  colors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'white'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  persons<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'p1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'p2'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'obj2'</span>
obj2<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// { name: 'obj', colors: ['white', 'black'], persons: [...] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token comment">// { name: 'obj2', colors: ['white', 'black', 'yellow'], persons: [...] }</span>
</code></pre></div><h4 id="_3-å¦‚ä½•è§£å†³object-assignä¸èƒ½æ‹·è´setå’Œgetçš„é—®é¢˜ï¼Ÿ"><a href="#_3-å¦‚ä½•è§£å†³object-assignä¸èƒ½æ‹·è´setå’Œgetçš„é—®é¢˜ï¼Ÿ" class="header-anchor">#</a> 3. å¦‚ä½•è§£å†³Object.assignä¸èƒ½æ‹·è´setå’Œgetçš„é—®é¢˜ï¼Ÿ</h4> <p><strong>é—®é¢˜äº§ç”ŸåŸå› </strong>ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'LinDaiDai'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> target1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target1<span class="token punctuation">,</span> source<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target1<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>ç»“æœä¸ºï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œçš„<code>foo</code>æ˜¯ä¸€ä¸ª<code>set</code>å±æ€§ï¼Œä½†æ˜¯åœ¨è¿›è¡Œ<code>Object.assign()</code>è°ƒç”¨çš„æ—¶å€™ç¡®ä¸èƒ½æ­£ç¡®çš„æ‹·è´ï¼Œä¹Ÿå°±æ˜¯è·å–åˆ°çš„<code>value</code>æ˜¯ä¸º<code>undefined</code>ã€‚</p> <p><strong>è§£å†³åŠæ³•</strong>ï¼š</p> <p>å¯ä»¥ä½¿ç”¨<code>ES8</code>ä¸­çš„<code>getOwnPropertyDescriptors()</code>é…åˆ<code>Object.defineProperty()</code>ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'LinDaiDai'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> target1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// Object.assign(target1, source)</span>
<span class="token comment">// console.log(Object.getOwnPropertyDescriptor(target1, 'foo'))</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>target1<span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target1<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>ç»“æœä¸ºï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token keyword">get</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token operator">:</span> Æ’<span class="token punctuation">}</span>
</code></pre></div><h3 id="åè¯­"><a href="#åè¯­" class="header-anchor">#</a> åè¯­</h3> <p>çŸ¥è¯†æ— ä»·, æ”¯æŒåŸåˆ›</p> <p>å‚æ•°æ–‡ç« :</p> <ul><li><a href="https://muyiy.cn/blog/4/4.3.html" target="_blank" rel="noopener noreferrer">é¢è¯•é¢˜ä¹‹å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2c275fa9.js" defer></script><script src="/assets/js/2.02e5b305.js" defer></script><script src="/assets/js/43.cdda8eac.js" defer></script>
  </body>
</html>
