---
title: 高阶函数
---

高阶函数源自于函数式编程，是函数式编程的基本技术。

JavaScript 的函数其实都指向某个变量。既然变量可以指向函数，函数的参数能接收变量，那么**一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。**

```javascript
"use strict";

function add(x, y, f) {
  return f(x) + f(y);
}
var x = add(-5, 6, Math.abs);
console.log(x); // 11
```

## map/reduce

[《MapReduce: Simplified Data Processing on Large Cluster 》翻译 - 姚灯灯! - 博客园](https://www.cnblogs.com/YaoDD/p/6017397.html)

### map（映射函数）

举例说明，比如我们有一个函数 f(x)=x2，要把这个函数作用在一个数组[1, 2, 3, 4, 5, 6, 7, 8, 9]上，就可以用 map 实现如下：

![廖雪峰博客](https://static.liaoxuefeng.com/files/attachments/925425803658112)

map()方法定义在 JavaScript 的 Array 中。我们可以调用 Array 的 map()方法，并传入我们自己的函数，得到一个新的 Array 作为结果：

```javascript
"use strict";

function pow(x) {
  return x * x;
}

var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
var results = arr.map(pow); // [1, 4, 9, 16, 25, 36, 49, 64, 81]
console.log(results);
```

**`map()` 作为高阶函数，它把运算规则抽象了。**因此，我们不但可以计算简单的 `f(x)=x²`，还可以计算任意复杂的函数，比如，把 Array 的所有数字转为字符串：

```javascript
var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
arr.map(String); // ['1', '2', '3', '4', '5', '6', '7', '8', '9']
```

## reduce(累加器)

reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。

```javascript
var arr = [1, 2, 3, 4];

function getSum(total, num) {
  return total + num;
}
function myFunction(item) {
  console.log(arr.reduce(getSum)); // 10
}
```

```javascript
// reduce 运行效果
function add(a, b) {
  return a + b;
}
function multiply(a, b) {
  return a * b;
}

[1, 2, 3, 4].reduce(add) == add(add(add(1, 2), 3), 4); // 10

[1, 2, 3, 4].reduce(multiply) == multiply(multiply(multiply(1, 2), 3), 4); // 24
```
